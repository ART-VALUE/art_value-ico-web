{"version":3,"sources":["routes/RoutingPaths.ts","ui/style/grouping.ts","ui/style/base.ts","ui/style/text.ts","contexts.ts","ui/style/button.ts","ui/components/auth/CurrentUserInfo.tsx","service/api/index.ts","util.ts","ui/style/error.ts","ui/components/ErrorContactInfo.tsx","ui/components/GenericError.tsx","ui/components/LoadingRing.tsx","service/api/auth.ts","ui/components/auth/LogOut.tsx","service/model/Deposit.ts","service/api/deposit.ts","service/eth/util.ts","service/eth/networks.ts","service/number/index.ts","ui/components/DepositDetails.tsx","constants.ts","ui/style/table.ts","ui/style/modal.ts","ui/components/Carousel.tsx","ui/components/purchase/SuccessSlide.tsx","ui/components/purchase/VerifyDepositSlide.tsx","ui/components/purchase/ConfirmEthTxSlide.tsx","service/eth/providers.ts","ui/components/Loading.tsx","ui/style/form.ts","ui/components/wallet/SelectExistingWalletForm.tsx","ui/components/wallet/SelectNewWalletAddressForm.tsx","ui/components/wallet/SelectWalletSlide.tsx","ui/components/purchase/GetEthTxReceipt.tsx","ui/components/purchase/ConfirmAndVerifyDepositSlides.tsx","ui/components/DepositsTable.tsx","ui/components/Profile.tsx","ui/components/purchase/ParamsSlide.tsx","ui/components/auth/LogInUsingSessionSlide.tsx","ui/components/auth/LogInUsingWalletSlide.tsx","ui/components/auth/SignupForm.tsx","ui/components/auth/SignUpSlide.tsx","ui/components/auth/LoginSlides.tsx","service/eth/pay.ts","ui/components/purchase/PayUsingWalletSlide.tsx","ui/components/purchase/EtherSlides.tsx","ui/components/purchase/CreateDepositSlide.tsx","ui/components/purchase/InfoSlide.tsx","ui/components/purchase/UpdateDepositSlide.tsx","ui/components/purchase/PurchaseSlides.tsx","ui/components/purchase/ErrorFallback.tsx","ui/components/TextCountdown.tsx","ui/components/Home.tsx","routes/Routes.tsx","ui/components/navigation/StyledNavigation.styles.ts","ui/components/navigation/desktop/StyledDesktop.styles.ts","ui/components/navigation/desktop/NavigationDesktop.tsx","ui/components/navigation/mobile/Burger/StyledBurger.styles.ts","ui/components/navigation/mobile/Burger/Burger.tsx","ui/components/navigation/mobile/Menu/StyledMenu.styles.ts","ui/components/navigation/mobile/Menu/Menu.tsx","ui/components/navigation/mobile/NavigationMobile.tsx","ui/components/hooks/hooks.tsx","assets/images/logo-transparent.png","ui/components/navigation/Navigation.tsx","service/api/io.ts","service/api/session.ts","ui/components/App.tsx","ui/components/AlertTemplate.tsx","index.tsx"],"names":["Section","styled","section","MainWrapper","div","Main","main","BaseText","css","p","theme","color","text","font","BaseTitle","P","A","a","link","linkVisited","linkHover","linkActive","H1","h1","H2","h2","H3","h3","SpanItalic","h4","span","MonoData","Pre","pre","StrongNumber","strong","IosContext","createContext","useIos","ios","useContext","Error","RestContext","WalletsContext","useWallets","wallets","CurrentUserContext","useCurrentUserDetails","currentUserContext","Button","button","border","surface","ButtonBig","CurrentUserInfo","currentUser","launchLoginModal","useTheme","email","ethAddress","onClick","ApiException","message","name","ApiCallTimeoutException","UnknownApiException","NamedApiException","originalName","originalMessage","parseApiResult","apiResponse","error","data","isNamedApiException","asyncApiCall","socket","ev","timeout","Promise","resolve","reject","setTimeout","emit","msg","tryRetrow","tryBlock","retrowBlock","markErrorProcessed","isErrorProcessed","errorToString","stringRepresentation","JSON","stringify","ErrorP","ErrorContactInfo","href","GenericError","children","RingContainer","RingPart","LoadingRing","getMe","authIo","SigningDeniedException","authenticateThroughWeb3","web3","address","signedVerifier","signedVerifierHash","eth","accounts","hashMessage","sign","e","userSignature","user","wallet","providerType","base","fetch","method","credentials","res","json","apiResult","LogOut","restApiBase","rest","useRest","nullCurrentUser","logOutMutation","useMutation","authApi","useEffect","isSuccess","isLoading","isError","mutate","onSubmit","preventDefault","type","Deposit","uuid","amount","timeCreated","priceEther","gasPrice","ethTxHash","isVerified","this","dto","BN","depositIo","fromDto","deposit","getMyPaidDeposits","map","weiToEtherStr","wei","toNumber","toString","weiToGweiStr","web3networks","1","explorerTx","explorerAddress","3","4","5","42","txHashToExplorerUrl","chainId","txHash","amountToFractionlessFactorBn","decimalSeperatorRegex","nonNumericRegex","containsNonNumerics","string","match","browserDecimalSeparator","toLocaleString","substring","fractionlessToString","number","integerPart","fractionalPart","sub","mul","integerPartStr","fractionalPartStr","trimEnd","isZero","NumberFormatException","TooManyDecimalSeperatorsException","DepositDetails","onLaunchVerification","Date","target","rel","icon","faCheck","success","faTimes","Table","table","thTdCommon","Th","th","Tr","tr","TrHead","Td","td","TdAlignRight","TdItalic","modalStyle","content","backgroundColor","background","position","inset","maxWidth","overlay","display","alignItems","justifyContent","SlidesContCont","SlidesCont","Step","numberOfSteps","index","className","style","width","transition","duration","items","Carousel","currentIndex","Children","count","marginLeft","child","SuccessSlide","onClose","VerifyDepositSlide","onVerified","useState","callbackCalled","setCallbackCalled","qDepositVerification","useQuery","verifyDeposit","refetch","NotConfirmedYetSignal","confirmations","ConfirmEthTxSlide","txReceipt","onTransactionConfirmed","setConfirmations","qBlockNumber","getBlockNumber","blockNumber","newConfirmations","retry","_","retryDelay","transactionHash","BrowserWalletNotFoundException","createPortisProvider","createBrowserProvider","Portis","scope","provider","detectEthereumProvider","silent","request","LoadingRingContainer","Loading","Label","label","Input","input","SelectExistingWalletForm","onWalletSelected","walletsSet","setWallets","Array","from","firstWallet","chosenWallet","setChosenWallet","length","currentWallets","Set","key","value","defaultChecked","onChange","UseAddressButton","SelectNewWalletAddressForm","addresses","onAddressSelected","firstAddress","selectedAddress","setSelectedAddress","WalletButton","SelectWalletSlide","values","newWalletProviderType","setNewWalletProviderType","qNewWalletProvider","createProvider","enabled","Web3","qAccounts","getAccounts","handleBrowserWalletClick","src","alt","String","GetEthTxReceipt","onGotEthTxReceipt","qEthTx","getTransactionReceipt","ConfirmAndVerifyDepositSlides","selectedWallet","setSelectedWallet","ethTxReceipt","setEthTxReceipt","carouselIndex","setCarouselIndex","hasConfirmedEthTx","setHasConfirmedEthTx","verifiedDeposit","setVerifiedDeposit","old","Math","max","receipt","DepositDetailsButton","DepositsTable","currentDepositDetails","setCurrentDepositDetails","showVerifyDepositModal","setShowVerifyDepositModal","qDeposits","closeDepositDetailsModal","faInfoCircle","slice","isOpen","contentLabel","onRequestClose","Profile","CENT","DEPOSIT_PERCENTAGE","MINIMUM_ARTS_AMOUNT","PaymentButton","ParamsSlide","onEtherCheckout","form","useRef","amountError","setAmountError","setAmount","minimumAmountStr","amountChargedNow","amountChargedDuringPrivate","ref","step","placeholder","min","newAmount","newAmountString","decimalSeperator","numberParts","split","replace","add","fractionlessNumberFromString","lt","current","checkValidity","LogInUsingSessionSlide","onLoggedIn","onNotLoggedIn","setCurrentUser","auth","qMe","userFromApi","LogInUsingWalletSlide","onNoSuchUser","qAuthenticateMutation","SignupForm","onFormComplete","setEmail","SignUpSlide","onSignedUp","signUpMutation","mutateAsync","LoginSlides","console","info","to","sendTransaction","PayUsingWalletSlide","toAddress","onPaymentComplete","qPaymentMutation","payUsingWeb3","EtherSlides","CreateDepositSlide","onDepositCreated","qDepositMutation","createDeposit","InfoSlide","onContinue","SetDepositEthTxHashSlide","onDepositEthTxHashSet","setDepositEthTxHash","PurchaseSlides","stripePromise","setDeposit","depositEthTxHashIsSet","setDepositEthTxHashIsSet","ethTxReceiptAndWallet","setEthTxReceiptAndWallet","ethTxConfirmed","setEthTxConfirmed","ethTxVerified","setEthTxVerified","setCheckoutId","random","_amount","log","ErrorFallback","resetErrorBoundary","toDeltaFromNow","date","now","deltaToSeconds","t","deltaToMinutes","deltaToHours","deltaToDays","floor","deltaToHoursOfDay","deltaToMinutesOfHour","deltaToSecondsOfMinute","deltaToParts","tAbs","abs","isNegative","days","hoursOfDay","minutesOfHour","secondsOfMinute","deltaPartsWithChange","deltaPartsOld","deltaPartsNew","new","BigNumber","NumberPart","TextClock","Infinity","tMinusParts","setTMinusParts","interval","window","setInterval","newState","clearInterval","padStart","HomeH1","TextClockContainer","ModalCloseButton","Home","purchaseDialogOpen","setPurchaseDialogOpen","closeModal","size","FallbackComponent","Routes","props","exact","path","RoutingPaths","component","HomeView","StyledNavigation","viewportWidth","DesktopWrapper","DesktopLink","activeLink","DesktopLogo","img","NavList","ul","NavListItem","li","NavigationDesktop","logo","tabs","paths","history","useHistory","currentRoute","useLocation","push","pathname","includes","location","StyledBurger","open","Burger","setOpen","StyledMenu","nav","Menu","Wrapper","Logo","NavigationMobile","handler","node","listener","event","contains","document","addEventListener","removeEventListener","NavigationTabs","NavigationPaths","Navigation","height","innerHeight","innerWidth","dimensions","setDimensions","handleResize","NavigationLogo","createIo","ns","io","withCredentials","sessionHeartbeat","apiBase","transaction","PageWrapperDiv","App","loginDialogOpen","setLoginDialogOpen","alert","useAlert","then","meFromApi","catch","currentUserContextData","web3WrapperContextData","Provider","shouldCloseOnOverlayClick","AlertContainerDiv","AlertCloseButton","AlertIconSpan","AlertTemplate","options","close","faInfo","faExclamation","colorBackground","lighten","darken","title","loadStripe","Modal","setAppElement","queryClient","QueryClient","setQueryLogger","args","apply","warn","alertOptions","positions","TOP_RIGHT","offset","transitions","SCALE","ReactDOM","render","StrictMode","template","QueryClientProvider","client","getElementById"],"mappings":"0qBAIe,EAJU,IAIV,EAHW,a,OCCbA,EAAUC,IAAOC,QAAV,oDAIPC,EAAcF,IAAOG,IAAV,kGAMXC,EAAOJ,IAAOK,KAAV,yJCVJC,GDoBmBN,IAAOG,IAAV,0ECpBLI,YAAH,gEACV,SAAAC,GAAC,OAAIA,EAAEC,MAAMC,MAAMC,QACb,SAAAH,GAAC,OAAIA,EAAEC,MAAMG,KAAKD,SAGtBE,EAAYN,YAAH,gEACX,SAAAC,GAAC,OAAIA,EAAEC,MAAMC,MAAMC,QACb,SAAAH,GAAC,OAAIA,EAAEC,MAAMG,KAAKD,QCNtBG,EAAId,IAAOQ,EAAV,sDACVF,GAISS,EAAIf,IAAOgB,EAAV,oMACVV,GAEO,SAAAE,GAAC,OAAIA,EAAEC,MAAMC,MAAMO,QAGjB,SAAAT,GAAC,OAAIA,EAAEC,MAAMC,MAAMQ,eAInB,SAAAV,GAAC,OAAIA,EAAEC,MAAMC,MAAMS,aAInB,SAAAX,GAAC,OAAIA,EAAEC,MAAMC,MAAMU,cAKnBC,EAAKrB,IAAOsB,GAAV,sDACXT,GAISU,EAAKvB,IAAOwB,GAAV,4EACXX,GAKSY,EAAKzB,IAAO0B,GAAV,kCACXb,GAOSc,GAJK3B,IAAO4B,GAAV,kCACXf,GAGsBb,IAAO6B,KAAV,oDAIVC,EAAW9B,IAAO6B,KAAV,2EAKRE,EAAM/B,IAAOgC,IAAV,2CACL,SAAAxB,GAAC,OAAIA,EAAEC,MAAMC,MAAMC,QAOjBsB,GAJYjC,YAAO+B,EAAP/B,CAAH,mDAIMA,IAAOkC,OAAV,iDC1DZC,EAAaC,wBAA0B,MAE7C,SAASC,IACd,IAAMC,EAAMC,qBAAWJ,GACvB,GAAW,MAAPG,EAAa,MAAM,IAAIE,MAAM,iCACjC,OAAOF,EAOF,IAAMG,EAAcL,wBAA+B,MAanD,IAAMM,EAAiBN,wBAA0C,MAEjE,SAASO,IACd,IAAMC,EAAUL,qBAAWG,GAC3B,GAAe,MAAXE,EAAiB,MAAM,IAAIJ,MAAM,qCACrC,OAAOI,EAUF,I,IAAMC,EAAqBT,wBAA6C,MAExE,SAASU,KACd,IAAMC,EAAqBR,qBAAWM,GACtC,GAA0B,MAAtBE,EAA4B,MAAM,IAAIP,MAAM,yCAChD,OAAOO,EC/CF,IAAMC,GAAShD,IAAOiD,OAAV,kPACfpC,GACkB,SAAAL,GAAC,OAAIA,EAAEC,MAAMC,MAAMwC,UACnB,SAAA1C,GAAC,OAAIA,EAAEC,MAAMC,MAAMyC,WAU5BC,GAAYpD,YAAOgD,GAAPhD,CAAH,gD,QCgBPqD,GAvBgC,WAAO,IAAD,EACTP,KAAlCQ,EAD2C,EAC3CA,YAAaC,EAD8B,EAC9BA,iBACPC,cAEd,OAAmB,MAAfF,EACK,uCACL,gBAACxC,EAAD,6BACiB,eAACgB,EAAD,UAAWwB,EAAYG,QAAiB,wBACvD,eAAC9B,EAAD,8EAEF,gBAACb,EAAD,gCACoB,eAACgB,EAAD,UAAWwB,EAAYI,aAAsB,wBADjE,yEAOG,uCACL,eAAC5C,EAAD,+DACA,eAACkC,GAAD,CAAQW,QAAS,kBAAMJ,KAAvB,wB,0ECbkBK,GAAtB,oDACE,WAAYC,GAAmB,IAAD,+BAC5B,cAAMA,IACDC,KAAO,eAFgB,EADhC,uBAA2CtB,QAO9BuB,GAAb,oDACE,WAAYF,GAAmB,IAAD,+BAC5B,cAAMA,IACDC,KAAO,0BAFgB,EADhC,UAA6CF,IAOhCI,GAAb,oDACE,WAAYH,GAAkB,IAAD,+BAC3B,cAAMA,IACDC,KAAO,sBAFe,EAD/B,UAAyCF,IAO5BK,GAAb,oDAIE,WAAYH,EAAcD,GAAkB,IAAD,+BACzC,wBAASC,EAAT,aAAkBD,KAJpBK,kBAG2C,IAF3CC,qBAE2C,EAEzC,EAAKL,KAAO,oBACZ,EAAKK,gBAAkBN,EACvB,EAAKK,aAAeJ,EAJqB,EAJ7C,UAAuCF,IAYhC,SAASQ,GAAkBC,GAChC,GAAyB,MAArBA,EAAYC,MACd,OAAOD,EAAYE,KAEnB,MAA8B,MAA1BF,EAAYC,MAAMR,KACd,IAAIE,GAAoBK,EAAYC,MAAMT,SAE1C,IAAII,GAAkBI,EAAYC,MAAMR,KAAMO,EAAYC,MAAMT,SAKrE,SAASW,GAAoBF,EAAYR,GAC9C,OAAOQ,aAAiBL,IAAqBK,EAAMJ,eAAiBJ,EAG/D,SAASW,GACdC,EACAC,GAGC,IAFDJ,EAEA,uDAFiB,KACjBK,EACA,uDAnE+B,IAoE/B,OAAO,IAAIC,SAAW,SAACC,EAASC,GAC9BC,YAAW,kBAAMD,EAAO,IAAIhB,MAA4Ba,GACxDF,EAAOO,KACLN,EACAJ,GACA,SAACW,GACC,IACEJ,EAAQV,GAAec,IACvB,MAAOZ,GACPS,EAAOT,UC7EV,SAAea,GAAtB,qC,gDAAO,WACLC,EACAC,GAFK,UAAArE,EAAA,+EAKUoE,IALV,8EAOGC,EAAY,EAAD,IAPd,yD,sBAWA,I,GAQA,SAASC,GAAmBhB,GACZ,kBAAVA,GAA+B,MAATA,IAC9BA,EAAD,WAA8B,GAI3B,SAASiB,GAAiBjB,GAC/B,MAAwB,kBAAVA,GACA,MAATA,IACgC,IAA/BA,EAAD,UAGA,SAASkB,GAAclB,GAC5B,GAAIA,aAAiB9B,MACnB,OAAI8B,aAAiBL,GACb,GAAN,OAAUK,EAAMJ,aAAhB,aAAiCI,EAAMT,SAEnC,GAAN,OAAUS,EAAMR,KAAhB,aAAyBQ,EAAMT,SAEjC,IAAM4B,EAAoB,UAAMnB,GAChC,GAA6B,oBAAzBmB,EACF,IACE,OAAOC,KAAKC,UAAUrB,GACtB,MAAOA,IAIX,OAAOmB,EC9CF,I,MAAMG,GAAS5F,IAAOQ,EAAV,6CCQJqF,GANiC,kBAAM,gBAAC/E,EAAD,kCAC/B,IACrB,eAACC,EAAD,CAAG+E,KAAI,2BAAP,+BAA2D,IAFP,+CCUvCC,GANV,SAAC,GAAD,IAAGzB,EAAH,EAAGA,MAAO0B,EAAV,EAAUA,SAAV,OAAyB,uCAC5B,eAAClF,EAAD,UAAIkF,IACJ,eAACJ,GAAD,UAASJ,GAAclB,KACvB,eAAC,GAAD,QCRI2B,GAAgBjG,IAAOG,IAAV,iRAiBb+F,GAAWlG,IAAOG,IAAV,qfAkCCgG,GAT4B,kBACzC,gBAACF,GAAD,WACE,eAACC,GAAD,IACA,eAACA,GAAD,IACA,eAACA,GAAD,IACA,eAACA,GAAD,QC3CG,SAAeE,GAAtB,mC,gDAAO,WACLC,GADK,UAAArF,EAAA,sEAGQyD,GAA4B4B,EAAQ,MAH5C,oF,sBAMA,IAAMC,GAAb,oDACE,WAAYzC,GAAmB,IAAD,+BAC5B,cAAMA,IACDC,KAAO,yBAFgB,EADhC,uBAA4CtB,QAOrC,SAAe+D,GAAtB,uC,gDAAO,WACLF,EACAG,EACAC,GAHK,sBAAAzF,EAAA,sEAKwByD,GAA2B4B,EAAQ,YAL3D,cAKCK,EALD,OAMCC,EAAqBH,EAAKI,IAAIC,SAASC,YAAYJ,GANpD,SAOuBvB,GAAS,wBACnC,uBAAAnE,EAAA,sEAAkBwF,EAAKI,IAAIG,KAAKJ,EAAoBF,GAApD,oFACA,SAAAO,GACE,MAAkB,mCAAdA,EAAEnD,QACG,IAAIyC,GAENU,KAbN,cAOCC,EAPD,gBAiBcxC,GACjB4B,EACA,eACA,CAAEK,iBAAgBD,UAASQ,kBApBxB,cAiBCC,EAjBD,yBAuBEA,GAvBF,6C,sEA0BA,WACLb,EACAG,EACAW,EACA1D,GAJK,sBAAAzC,EAAA,sEAMwByD,GAA2B4B,EAAQ,YAN3D,cAMCK,EAND,OAOCC,EAAqBH,EAAKI,IAAIC,SAASC,YAAYJ,GAPpD,SAQuBF,EAAKI,IAAIG,KAAKJ,EAAoBQ,EAAOV,SARhE,cAQCQ,EARD,gBAUcxC,GACjB4B,EACA,SACA,CAAEK,iBAAgBO,gBAAeR,QAASU,EAAOV,QAASW,aAAcD,EAAOC,aAAc3D,UAb1F,cAUCyD,EAVD,yBAgBEA,GAhBF,6C,sEAmBA,WAAsBG,GAAtB,kBAAArG,EAAA,sEACasG,MAAM,GAAD,OAAID,EAAJ,WAAmB,CACxCE,OAAQ,OACRC,YAAa,YAHV,cACCC,EADD,gBAKmBA,EAAIC,OALvB,cAKCC,EALD,yBAMEvD,GAAeuD,IANjB,4C,sBCxDP,IAuCeC,GAvCmB,WAAO,IACzBC,EVST,WACL,IAAMC,EAAOvF,qBAAWE,GACxB,GAAY,MAARqF,EAAc,MAAM,IAAItF,MAAM,kCAClC,OAAOsF,EUZuBC,GAAtBV,KACAW,EAAoBlF,KAApBkF,gBACFC,EAAiBC,cACrB,kBDoDG,SAAP,mCCpDUC,CAAeN,MASvB,OANAO,qBAAU,WACJH,EAAeI,WACjBL,MAED,CAACC,EAAeI,YAEfJ,EAAeK,UACV,uCACL,eAACxH,EAAD,iCACA,eAAC,GAAD,OAEOmH,EAAeM,QACjB,uCACL,eAAC,GAAD,CAAcjE,MAAO2D,EAAe3D,MAApC,gDAGA,eAACtB,GAAD,CAAQW,QAAS,kBAAMsE,EAAeO,UAAtC,0BAEOP,EAAeI,UACjB,eAACvH,EAAD,uCAGF,uBAAM2H,SAAU,SAAAzB,GACrBA,EAAE0B,iBACFT,EAAeO,UAFV,SAIL,eAACxF,GAAD,CAAQ2F,KAAK,SAAb,wB,yDC7BiBC,G,WAUnB,WACEC,EACA3B,EACA4B,EACAC,EACAC,EACAC,EACAC,EACAC,GACC,0BAlBMN,UAkBP,OAjBO3B,UAiBP,OAhBO4B,YAgBP,OAfOC,iBAeP,OAdOC,gBAcP,OAbOC,cAaP,OAZOC,eAYP,OAXOC,gBAWP,EACAC,KAAKP,KAAOA,EACZO,KAAKlC,KAAOA,EACZkC,KAAKN,OAASA,EACdM,KAAKL,YAAcA,EACnBK,KAAKJ,WAAaA,EAClBI,KAAKH,SAAWA,EAChBG,KAAKF,UAAYA,EACjBE,KAAKD,WAAaA,E,iDAGpB,SAAeE,GACb,OAAO,IAAIT,EACTS,EAAIR,KACJQ,EAAInC,KACJ,IAAIoC,KAAGD,EAAIP,OAAQ,OACnBO,EAAIN,YACJ,IAAIO,KAAGD,EAAIL,WAAY,OACvB,IAAIM,KAAGD,EAAIJ,SAAU,OACrBI,EAAIH,UACJG,EAAIF,gB,qDC/CH,WACLI,EACAT,GAFK,UAAA9H,EAAA,kEAIE4H,GAJF,SAIwBnE,GAC3B8E,EACA,SACA,CAAET,WAPC,iDAIUU,QAJV,6D,sEAWA,WACLD,EACAE,EACAP,GAHK,UAAAlI,EAAA,kEAKE4H,GALF,SAKwBnE,GAC3B8E,EACA,eACA,CAAEV,KAAMY,EAAQZ,KAAMK,cARnB,iDAKUM,QALV,6D,sEAYA,WACLD,EACAE,GAFK,UAAAzI,EAAA,kEAIE4H,GAJF,SAIwBnE,GAC3B8E,EACA,SACA,CAAEV,KAAMY,EAAQZ,OAPb,iDAIUW,QAJV,6D,sBAqBA,SAAeE,GAAtB,mC,gDAAO,WACLH,GADK,UAAAvI,EAAA,sEAGSyD,GACZ8E,EACA,cACA,IANG,uCAOFI,IAAIf,GAAQY,UAPV,4C,sBC/CA,IAAMI,GAAgB,SAACC,GAAD,OAAcA,EAAI1J,IAAI,IAAImJ,KAAG,eAAeQ,WAAa,KAAYC,YACrFC,GAAe,SAACH,GAAD,OAAcA,EAAIC,WAAa,KAAYC,Y,oBCD1DE,GAAe,CAC1BC,EAAG,CACDpG,KAAM,WACNqG,WAAY,0BACZC,gBAAiB,gCAEnBC,EAAG,CACDvG,KAAM,qBACNqG,WAAY,kCACZC,gBAAiB,wCAEnBE,EAAG,CACDxG,KAAM,qBACNqG,WAAY,kCACZC,gBAAiB,wCAEnBG,EAAG,CACDzG,KAAM,oBACNqG,WAAY,uCACZC,gBAAiB,6CAEnBI,GAAI,CACF1G,KAAM,mBACNqG,WAAY,sCACZC,gBAAiB,6CAId,SAASK,GAAoBC,EAAkBC,GAEpD,MAAM,GAAN,OADoBV,GAAaS,GACXP,WAAtB,YAAoCQ,G,yBCzBzBC,GAA+B,IAAItB,KAJH,KAKvCuB,GAAwB,UACxBC,GAAkB,WAClBC,GAAsB,SAACC,GAAD,OAAsD,OAAlCA,EAAOC,MAAMH,KAChDI,GAA2B,IAAKC,iBAAiBC,UAAU,EAAG,GAEpE,SAASC,GAAqBC,GACnC,IAAMC,EAAcD,EAAOnL,IAAIyK,IACzBY,EAAiBF,EAAOG,IAAIF,EAAYG,IAAId,KAC5Ce,EAAiBJ,EAAYxB,SAAS,IACtC6B,EAAoBC,KAAQL,EAAezB,SAAS,IAAK,KAC/D,OAAIyB,EAAeM,SACVH,EAEAA,EAAiBT,GAA0BU,EAI/C,IAAMG,GAAb,oDACE,WAAYlI,GAAkB,IAAD,+BAC3B,cAAMA,IACDC,KAAO,wBAFe,EAD/B,uBAA2CtB,QAO9BwJ,GAAb,oDACE,WAAYnI,GAAkB,IAAD,+BAC3B,cAAMA,IACDC,KAAO,oCAFe,EAD/B,UAAuDiI,ICpBvD,I,oCAqCeE,GAlCV,SAAC,GAAuC,IAArCxC,EAAoC,EAApCA,QAASyC,EAA2B,EAA3BA,qBACTzL,EAAQ+C,cAEd,OAAO,uCACL,eAACjC,EAAD,sBACA,gBAACT,EAAD,sBACU,eAACgB,EAAD,UAAWuJ,GAAqB5B,EAAQX,UAAmB,wBADrE,kBAEiB,eAAChH,EAAD,UAAY,IAAIqK,KAAyB,IAApB1C,EAAQV,aAAmBoC,mBAA4B,wBAF7F,0BAGyB,eAACrJ,EAAD,UAAW8H,GAAcH,EAAQT,cAAuB,wBAHjF,qBAIoB,eAAClH,EAAD,UAAWkI,GAAaP,EAAQR,YAAqB,wBAJzE,qBAK0C,MAArBQ,EAAQP,UACvB,eAACvH,EAAD,8BACA,uCACA,eAACG,EAAD,UAAW2H,EAAQP,YAAsB,IADzC,IAEC,oBACCpD,KAAM2E,GC3Be,ED2BehB,EAAQP,WAC5CkD,OAAO,SAASC,IAAI,aAFrB,+BAFD,OAPN,IAeI,wBAfJ,aAgBa5C,EAAQN,WACf,eAAC,KAAD,CAAiBmD,KAAMC,KAAS7L,MAAOD,EAAMC,MAAM8L,UACnD,eAAC,KAAD,CAAiBF,KAAMG,KAAS/L,MAAOD,EAAMC,MAAM4D,QAlBzD,IAmBI,wBAnBJ,SAoBQ,eAACxC,EAAD,UAAW2H,EAAQZ,UAEzBY,EAAQN,WAEL,GADA,eAACnG,GAAD,CAAQW,QAAS,kBAAMuI,KAAvB,wBExCIQ,GAAQ1M,IAAO2M,MAAV,kEACdrM,GAIEsM,GAAarM,YAAH,uDAIHsM,GAAK7M,IAAO8M,GAAV,0HACXF,IASSG,GAAK/M,IAAOgN,GAAV,0HACXJ,IAQSK,GAASjN,YAAO+M,GAAP/M,CAAH,+HAQNkN,GAAKlN,IAAOmN,GAAV,wHACXP,IAQSQ,GAAepN,YAAOkN,GAAPlN,CAAH,oDAGZqN,GAAWrN,YAAOkN,GAAPlN,CAAH,qDChDRsN,IDoDiBtN,IAAOG,IAAT,oGCpDF,SAACM,GAAD,MAA0B,CAClD8M,QAAS,CACPC,gBAAiB/M,EAAMC,MAAM+M,WAC7BC,SAAU,WACVC,MAAO,QACPC,SAAU,SAEZC,QAAS,CACPC,QAAS,OACTC,WAAY,SACZC,eAAgB,a,6BCVdC,GAAiBjO,IAAOG,IAAV,mEAKd+N,GAAalO,IAAOG,IAAV,oIAQVgO,GAGD,SAAC,GAIC,IAHLnI,EAGI,EAHJA,SACAoI,EAEI,EAFJA,cAEI,EADJC,MAIA,OACE,sBAAKC,UAAU,OAAOC,MAAO,CAC3BC,MAAM,GAAD,OAAK,IAAMJ,EAAX,KACLK,WALe,eAACC,EAAD,uDAAY,IAAKC,EAAjB,uDAAyB,MAAzB,gBAAsCA,EAAtC,YAA+CD,EAA/C,oCAKHD,IAFd,SAIGzI,KA8BQ4I,GArBoC,SAAC,GAA8B,IAA7B5I,EAA4B,EAA5BA,SAAU6I,EAAkB,EAAlBA,aAC7D,GAAgB,MAAZ7I,EAAkB,MAAM,IAAIxD,MAAM,+BACtC,GAAIqM,EAAe,EAAG,MAAM,IAAIrM,MAAM,qDACtC,GAAIqM,GAAgBC,WAASC,MAAM/I,GAAW,MAAM,IAAIxD,MAAM,8DAI9D,OAAQ,eAACyL,GAAD,UACN,eAACC,GAAD,CAAYK,MAAO,CACjBC,MAAM,GAAD,OAAgC,IAA3BM,WAASC,MAAM/I,GAApB,KACLgJ,WAAW,IAAD,OAAqB,IAAfH,EAAN,MAFZ,SAIGC,WAASnF,IAAI3D,GAAU,SAACiJ,EAAOZ,GAAR,OACtB,eAAC,GAAD,CAAkBA,MAAOA,EAAOD,cAAeU,WAASC,MAAM/I,GAA9D,SACGiJ,GADQZ,WCzBJa,GAjBV,SAAC,GAA0B,IAAxBzF,EAAuB,EAAvBA,QAAS0F,EAAc,EAAdA,QACf,OAAO,uCACL,eAAC5N,EAAD,+BACA,gBAACT,EAAD,kBACO8I,GAAcH,EAAQT,YAD7B,iCACmEqC,GAAqB5B,EAAQX,QADhG,iCAGA,eAAChI,EAAD,wEAGA,gBAACA,EAAD,iCACqB,eAACC,EAAD,CAAG+E,KAAK,2BAAR,wBADrB,0CAIA,eAAC9C,GAAD,CAAQW,QAAS,kBAAMwL,KAAvB,0BCyCWC,GAlDV,SAAC,GAA6B,IAA3B3F,EAA0B,EAA1BA,QAAS4F,EAAiB,EAAjBA,WACE9F,EAAclH,IAAvBoH,QADwB,EAEY6F,oBAAS,GAFrB,mBAEzBC,EAFyB,KAETC,EAFS,KAG1BC,EAAuBC,aAC3B,CAAC,UAAW,SAAUjG,EAAQZ,OAC9B,kBVQG,SAAP,qCURU8G,CAAcpG,EAAWE,MAUjC,OAPArB,qBAAU,YACHmH,GAAkBE,EAAqBpH,YAC1CmH,GAAkB,GAClBH,EAAWI,EAAqBlL,SAEjC,CAACkL,EAAqBpH,YAElB,uCACL,eAAC9G,EAAD,6BAEMkO,EAAqBnH,UAChB,uCACL,eAACxH,EAAD,wCACA,eAACA,EAAD,wFAIA,eAAC,GAAD,OAEO2O,EAAqBlH,QACvB,uCACL,eAAC,GAAD,CAAcjE,MAAOmL,EAAqBnL,MAA1C,iEAGA,eAACxD,EAAD,0JAIA,eAACkC,GAAD,CAAQW,QAAS,kBAAK8L,EAAqBG,WAA3C,0BAIG,uCACL,eAAC9O,EAAD,sCACA,eAACkC,GAAD,CAAQW,QAAS,kBAAM0L,EAAWI,EAAqBlL,OAAvD,6BCpCFsL,GAGJ,WAAYC,GAAwB,0BAFpCA,mBAEmC,EACjC1G,KAAK0G,cAAgBA,GAgFVC,GAvEV,SAAC,GAA0D,IAAxDvJ,EAAuD,EAAvDA,KAAMkE,EAAiD,EAAjDA,QAASsF,EAAwC,EAAxCA,UAAWC,EAA6B,EAA7BA,uBAA6B,EACjBX,oBAAS,GADQ,mBACtDC,EADsD,KACtCC,EADsC,OAEnBF,mBAAS,GAFU,mBAEtDQ,EAFsD,KAEvCI,EAFuC,KAGvDC,EAAeT,aACnB,CAAC,OAAQlJ,EAAKI,IAAIwJ,eAAetM,MADN,wBAE3B,+BAAA9C,EAAA,sEAC4BwF,EAAKI,IAAIwJ,iBADrC,UACQC,EADR,OAEQC,EAAmBD,EAAcL,EAAUK,YACjDH,EAAiBI,KACbA,GNvC2B,GMmCjC,sBAKU,IAAIT,GAAsBS,GALpC,gCAOSA,GAPT,2CASA,CACEC,MAAO,SAACC,EAAGlM,GACT,OAAIA,aAAiBuL,IAKvBY,WAAY,MAWhB,OAPArI,qBAAU,YACHmH,GAAkBO,GNxDU,IMyD/BN,GAAkB,GAClBS,OAED,CAACH,IAEG,uCACL,eAACvO,EAAD,kCAEM4O,EAAa5H,QACR,uCACL,eAAC,GAAD,CAAcjE,MAAO6L,EAAa7L,MAAlC,+DAGA,eAACtB,GAAD,CAAQW,QAAS,kBAAMwM,EAAaP,WAApC,0BAIAE,EN1E2B,EM2EtB,uCACL,gBAAChP,EAAD,mCN5E2B,EM4E3B,uBACA,gBAACA,EAAD,6JAEiH,wBAC/G,eAACC,EAAD,CAAG+E,KAAM2E,GAAoBC,EAASsF,EAAUU,iBAAkBtE,OAAO,SAAzE,mDAIF,gBAACtL,EAAD,WAAG,eAACmB,EAAD,UAAe6N,IAAlB,INpF2B,EMoF3B,oBACA,eAAC,GAAD,OAII,uCACN,eAAChP,EAAD,qCACA,eAACkC,GAAD,CACEW,QAAS,kBAAMsM,KADjB,6B,0CC1FKU,GAAb,oDACE,WAAY9M,GAAmB,IAAD,+BAC5B,cAAMA,IACDC,KAAO,iCAFgB,EADhC,uBAAoDtB,Q,gDAO7C,WAA8B4E,GAA9B,UAAApG,EAAA,yDACgB,WAAjBoG,EADC,yCACiCwJ,MADjC,UAEqB,YAAjBxJ,EAFJ,iCAE6CyJ,KAF7C,sDAGMrO,MAAM,wBAHZ,6C,sBAMA,SAASoO,KACd,OAAO,IAAIE,KAAJ,iDAEM,CAAEC,MAAO,CAAC,WACrBC,SAGG,SAAeH,KAAtB,gC,gDAAO,6BAAA7P,EAAA,sEACmBiQ,KAAuB,CAC7CC,QAAQ,EACRtM,QAAS,MAHN,UAKY,QAJXoM,EADD,8BAKwB,IAAIL,GAL5B,uBAMEK,EAAiBG,QAAQ,CAAE5J,OAAQ,wBANrC,gCAOEyJ,GAPF,4C,sBCpBP,I,kBAAMI,GAAuBpR,IAAOG,IAAV,kGAiBXkR,GAXwB,SAAC,GAAkB,IAAhBrL,EAAe,EAAfA,SAExC,GADmB8I,WAASC,MAAM/I,IAChB,EAChB,MAAM,IAAIxD,MAAM,mDAElB,OAAO,iCACJwD,EADI,IAEL,eAACoL,GAAD,UAAsB,eAAC,GAAD,UCfbE,GAAQtR,IAAOuR,MAAV,8FACdjR,GAMSkR,GAAQxR,IAAOyR,MAAV,kLACdnR,GAEsB,SAAAE,GAAC,OAAIA,EAAEC,MAAMC,MAAMwC,UC6B9BwO,GAjCV,SAAC,GAA0B,IAAxBC,EAAuB,EAAvBA,iBAAuB,EACehP,IAA3BiP,EADY,EACrBhP,QAAqBiP,EADA,EACAA,WACvBjP,EAAUkP,MAAMC,KAAKH,GACrBI,EAAcpP,EAAQ,GAHC,EAIW0M,mBAAS0C,GAJpB,mBAItBC,EAJsB,KAIRC,EAJQ,KAM7B,OAAuB,IAAnBtP,EAAQuP,OACF,eAACrR,EAAD,wCAEA,wBAAM2H,SAAU,SAAAzB,GACtBA,EAAE0B,iBACFmJ,GAAW,SAAAO,GAAc,OAAI,IAAIC,IAAJ,uBAAYD,GAAZ,CAA4BH,QACzDN,EAAiBM,IAHX,UAKLrP,EAAQ+G,KAAI,SAAAxC,GACX,IAAMmL,EAAMnL,EAAOC,aAAeD,EAAOV,QACzC,OAAQ,gBAAC6K,GAAD,WACN,wBACE3I,KAAK,QACL7E,KAAK,UACLyO,MAAOpL,EAAOC,aAAeD,EAAOV,QACpC+L,eAAgBrL,IAAW6K,EAC3BS,SAAU,kBAAMP,EAAgB/K,MACjCA,EAAOC,aAPF,KAOkBD,EAAOV,UAPb6L,MAUtB,eAACtP,GAAD,CAAQ2F,KAAK,SAAS4J,MAAM,SAA5B,kCC7BAG,GAAmB1S,YAAOgD,GAAPhD,CAAH,mDAqCP2S,GA9BV,SAAC,GAAsC,IAApCC,EAAmC,EAAnCA,UAAWC,EAAwB,EAAxBA,kBACXC,EAAeF,EAAU,GADU,EAEKtD,mBAASwD,GAFd,mBAElCC,EAFkC,KAEjBC,EAFiB,KAGzC,OAAoB,MAAhBF,EAA8B,qCAChC,eAAChS,EAAD,2GAKM,wBAAM2H,SAAU,SAAAzB,GACtBA,EAAE0B,iBACFmK,EAAkBE,IAFZ,UAILH,EAAUjJ,KAAI,SAAClD,GAAD,OACb,gBAAC6K,GAAD,WACE,wBACE3I,KAAK,QACL7E,KAAK,UACLyO,MAAO9L,EACP+L,eAAgB/L,IAAYqM,EAC5BL,SAAU,kBAAMO,EAAmBvM,MACpCA,IAPSA,MAUd,eAACiM,GAAD,CAAkB/J,KAAK,SAAS4J,MAAM,SAAtC,kCCrBEU,GAAejT,IAAOiD,OAAV,4WAmHHiQ,GA3FV,SAAC,GAAoC,IAAlCvB,EAAiC,EAAjCA,iBAAkB3L,EAAe,EAAfA,SACxB,GAAgB,MAAZA,EAAkB,MAAM,IAAIxD,MAAM,wCADC,MAGKG,IAA3BiP,EAHsB,EAG/BhP,QAAqBiP,EAHU,EAGVA,WACvBjP,EAAUkP,MAAMC,KAAKH,EAAWuB,UAJC,EAKmB7D,mBAA8B,MALjD,mBAKhC8D,EALgC,KAKTC,EALS,KAMjCC,EAAqB5D,aACzB,CAAC,WAAY0D,IACb,kBLpCG,SAAP,mCKoCUG,CAAeH,KACrB,CAAEI,QAAkC,MAAzBJ,EAA+B7C,OAAO,IAE7C/J,EAAkC,MAA3B8M,EAAmB/O,KAAe,KAAO,IAAIkP,KAAKH,EAAmB/O,MAC5EmP,EAAYhE,aAChB,CAAC,WAAY0D,EAAuB,YACpC,kBAAM5M,EAAOI,IAAI+M,gBACjB,CAAEH,QAAiB,MAARhN,IAIPoN,EAA2B,kBAAMP,EAAyB,YAGhE,OAAQ,uCACN,eAAC9R,EAAD,UAAKyE,IACJpD,EAAQuP,OAAS,EACd,uCACA,eAAC1Q,EAAD,wCACA,eAAC,GAAD,CAA0BkQ,iBAAkBA,OAE5C,eAAC7Q,EAAD,kDAEJ,eAACW,EAAD,mCAC0B,MAAzB2R,EACG,wBAAM3K,SAAU,SAAAzB,GAAC,OAAIA,EAAE0B,kBAAvB,UACA,eAACuK,GAAD,CAActK,KAAK,SAAS4J,MAAM,SAAS5O,QAhBvB,kBAAM0P,EAAyB,WAgBnD,SACE,sBAAKQ,IAA8B,mBAAoBC,IAAI,aAE7D,eAACb,GAAD,CAActK,KAAK,SAAS4J,MAAM,SAAS5O,QAASiQ,EAApD,SACE,sBAAKC,IAA8B,qBAAsBC,IAAI,eAE/D,eAACb,GAAD,CAActK,KAAK,SAAS4J,MAAM,SAAS5O,QAASiQ,EAApD,SACA,sBAAKC,IAA8B,kBAAmBC,IAAI,8BAG1D,uCACCR,EAAmBhL,UAChB,uCACA,eAACxH,EAAD,qCACA,eAAC,GAAD,OAEAwS,EAAmB/K,QACjB,gBAAC3C,GAAD,sCACwB,wBACvB0N,EAAmBhP,iBAAiBqM,GACjC,4EACwC,IACxC,eAAC5P,EAAD,CAAGqL,OAAO,SAAStG,KAAK,uBAAxB,iCACC,IAHD,8BAKAiO,OAAOT,EAAmBhP,UAG9BoP,EAAUpL,UACR,eAAC,GAAD,UAAS,gBAACxH,EAAD,mCACasS,EADb,cAGTM,EAAUnL,QACR,gBAAC3C,GAAD,sCACyBmO,OAAOT,EAAmBhP,UAEnD,eAAC,GAAD,CACAsO,UAAWc,EAAUnP,KACrBsO,kBAAmB,SAAApM,GACjB4M,EAAyB,MACzB,IAAMlM,EAAiB,CACrBC,aAAcgM,EACdpC,SAAUsC,EAAmB/O,KAC7BkC,WAEFoL,GAAW,SAACO,GAAD,OAAiC,IAAIC,IAAJ,uBAAYD,GAAZ,CAA4BjL,QACxEwK,EAAiBxK,MAG7B,eAACnE,GAAD,CAAQW,QA/DgB,kBAAM0P,EAAyB,OA+DvD,6CC3DOW,GA/CV,SAAC,GAA4C,IAA1C7M,EAAyC,EAAzCA,OAAQsC,EAAiC,EAAjCA,QAASwK,EAAwB,EAAxBA,kBACjB/K,EAAYO,EAAQP,UAC1B,GAAiB,MAAbA,EACF,MAAM,IAAI1G,MAAM,iDAElB,IAAMgE,EAAO,IAAIiN,KAAKtM,EAAO6J,UACvBkD,EAASxE,aACb,CAAC,OAAQlJ,EAAKI,IAAIuN,sBAAsBrQ,KAAMoF,IAC9C,kBAAM1C,EAAKI,IAAIuN,sBAAsBjL,MARQ,EAUHoG,oBAAS,GAVN,mBAUxCC,EAVwC,KAUxBC,EAVwB,KAmB/C,OAPApH,qBAAU,YACHmH,GAAkB2E,EAAO7L,YAC5BmH,GAAkB,GAClByE,EAAkBC,EAAO3P,SAE1B,CAAC2P,EAAO7L,YAEJ,uCACL,eAAC9G,EAAD,wCAEM2S,EAAO5L,UACF,eAAC,GAAD,UAAS,eAACxH,EAAD,+CAGdoT,EAAO3L,QACF,uCACL,eAAC,GAAD,CAAcjE,MAAO4P,EAAO5P,MAA5B,oEAGA,eAACtB,GAAD,CAAQW,QAAS,kBAAMuQ,EAAOtE,WAA9B,0BAII,uCACN,eAAC9O,EAAD,oCACA,eAACkC,GAAD,CACEW,QAAS,kBAAMsQ,EAAkBC,EAAO3P,OAD1C,6BC8BO6P,GAnEV,SAAC,GAAsC,IAApC3K,EAAmC,EAAnCA,QAAS4F,EAA0B,EAA1BA,WAAY3E,EAAc,EAAdA,QAAc,EACG4E,mBAAwB,MAD3B,mBAClC+E,EADkC,KAClBC,EADkB,OAEDhF,mBAAoC,MAFnC,mBAElCiF,EAFkC,KAEpBC,EAFoB,OAGClF,mBAAS,GAHV,mBAGlCmF,EAHkC,KAGnBC,EAHmB,OAISpF,oBAAS,GAJlB,mBAIlCqF,EAJkC,KAIfC,EAJe,OAKKtF,mBAAyB,MAL9B,mBAKlCuF,EALkC,KAKjBC,EALiB,KAOzC,OAAO,eAAC,GAAD,CAAUjG,aAAc4F,EAAxB,UACL,eAAC,GAAD,CAEE9C,iBAAkB,SAAAxK,GAChBmN,EAAkBnN,GAClBuN,GAAiB,SAAAK,GAAG,OAAIC,KAAKC,IAAIF,EAAK,OAJ1C,iDACO7B,GAAkBpP,OAFpB,oBASiB,MAAlBuQ,EAAA,CAEA,eAAC,GAAD,CAEE5K,QAASA,EACTtC,OAAQkN,EACRJ,kBAAmB,SAAAiB,GACjBV,EAAgBU,GAChBR,GAAiB,SAAAK,GAAG,OAAIC,KAAKC,IAAIF,EAAK,QALnCf,GAAgBlQ,OAHvB,oBAUoB,MAAhByQ,EAAA,CAEA,eAAC,GAAD,CAEE/N,KAAM,IAAIiN,KAAKY,EAAerD,UAC9BtG,QAASA,EACTsF,UAAWuE,EACXtE,uBAAwB,WACtB2E,GAAqB,GACrBF,GAAiB,SAAAK,GAAG,OAAIC,KAAKC,IAAIF,EAAK,QANnChF,GAAkBjM,OAHzB,oBAWI6Q,EAAiB,CAEjB,eAAC,GAAD,CAEElL,QAASA,EACT4F,WAAY,SAAAwF,GACVC,EAAmBD,GACnBH,GAAiB,SAAAK,GAAG,OAAIC,KAAKC,IAAIF,EAAK,QAJnC3F,GAAmBtL,OAHT,oBASM,MAAnB+Q,EACA,CACA,eAAC,GAAD,CAEEpL,QAASA,EACT0F,QAAS,kBAAME,EAAWwF,KAFrB3F,GAAapL,OAIpB,KAGJ,KAGJ,KAGJ,QCrDFqR,GAAuBnV,IAAOiD,OAAV,6JAyIXmS,GA/H8B,WAAO,IACjC7L,EAAclH,IAAvBoH,QADyC,EAES6F,mBAAyB,MAFlC,mBAE1C+F,EAF0C,KAEnBC,EAFmB,OAGWhG,oBAAS,GAHpB,mBAG1CiG,EAH0C,KAGlBC,EAHkB,OAIP1S,KAAlCQ,EAJyC,EAIzCA,YAAaC,EAJ4B,EAI5BA,iBACfkS,EAAY/F,aAChB,CAAC,WAAYhG,GAAkB5F,OAC/B,kBAAM4F,GAAkBH,KACxB,CACEiK,QAAwB,MAAflQ,IAGP7C,EAAQ+C,cAEd,GAAIiS,EAAUnN,UACZ,OAAO,uCACL,eAACxH,EAAD,kCACA,eAAC,GAAD,OAIJ,GAAI2U,EAAUlN,QACZ,OAAO,uCACL,eAAC,GAAD,CAAcjE,MAAOmR,EAAUnR,MAA/B,kEAGA,yBAAQX,QAAS,kBAAM8R,EAAU7F,WAAjC,0BAIJ,IAIM8F,EAA2B,WAC/BJ,EAAyB,OAG3B,OAAIG,EAAUpN,UACJ,uCACN,gBAACvH,EAAD,mDACuC,eAAC,KAAD,CAAiBwL,KAAMG,KAAS/L,MAAOD,EAAMC,MAAM4D,QAD1F,mBAEe,eAAC,KAAD,CAAiBgI,KAAMqJ,KAAcjV,MAAM,SAF1D,YAIC+U,EAAUlR,KAAO4N,OAAS,EACvB,gBAACzF,GAAD,WACA,iCACE,gBAACO,GAAD,WACE,eAACJ,GAAD,qBACA,eAACA,GAAD,4BACA,eAACA,GAAD,kCACA,eAACA,GAAD,6BACA,eAACA,GAAD,+BACA,eAACA,GAAD,uBACA,eAACA,GAAD,2BAGJ,iCACG4I,EAAUlR,KAAOoF,KAAI,SAAAF,GAAO,OAAK,gBAACsD,GAAD,WAChC,eAACK,GAAD,UAAe/B,GAAqB5B,EAAQX,UAC5C,eAACoE,GAAD,UAAM,IAAIf,KAAyB,IAApB1C,EAAQV,aAAmBoC,mBAC1C,eAACiC,GAAD,UAAexD,GAAcH,EAAQT,cACrC,eAACoE,GAAD,UAAepD,GAAaP,EAAQR,YACd,MAArBQ,EAAQP,UACL,eAACmE,GAAD,8BACA,eAACH,GAAD,UAAI,gBAACnM,EAAD,CACF+E,KAAM2E,GfnGO,EemGuBhB,EAAQP,WAC5CkD,OAAO,SAASC,IAAI,aAFlB,UAGC5C,EAAQP,UAAU0M,MAAM,EAAG,IAH5B,WAMR,eAAC1I,GAAD,UAAKzD,EAAQN,WACT,eAAC,KAAD,CAAiBmD,KAAMC,KAAS7L,MAAOD,EAAMC,MAAM8L,UACnD,eAAC,KAAD,CAAiBF,KAAMG,KAAS/L,MAAOD,EAAMC,MAAM4D,UAEvD,eAAC4I,GAAD,UACE,eAACiI,GAAD,CACExR,QAAS,kBAAM2R,EAAyB7L,IAD1C,SAEE,eAAC,KAAD,CAAiB6C,KAAMqJ,KAAcjV,MAAM,eApBN+I,EAAQZ,cA0BrD,eAAC/H,EAAD,wDAGJ,gBAAC,KAAD,CACEyN,MAAOjB,GAAW7M,GAClBoV,OAAkC,MAAzBR,IAAkCE,EAC3CO,aAAa,yBACbC,eAAgBL,EAJlB,UAK8B,MAAzBL,EACG,eAAC,GAAD,CACE5L,QAAS4L,EACTnJ,qBAAsB,WAhElCsJ,GAA0B,MAiEhB,eAAC5P,GAAD,kCAEN,eAAC5C,GAAD,CAAQW,QAAS+R,EAAjB,sBAEF,gBAAC,KAAD,CACEnH,MAAOjB,GAAW7M,GAClBoV,OAAiC,MAAzBR,GAAiCE,EACzCO,aAAa,yBACbC,eAAgBL,EAJlB,UAK8B,MAAzBL,EACG,eAAC,GAAD,CACA3K,Qf5ImB,Ee6InBjB,QAAS4L,EACThG,WAAY,SAAAwF,GACVY,EAAU7F,UACV0F,EAAyBT,GACzBW,GAA0B,MAE5B,eAAC5P,GAAD,kCAEN,eAAC5C,GAAD,CAAQW,QAAS+R,EAAjB,yBAKC,uCACL,eAAC5U,EAAD,8DACA,eAACkC,GAAD,CAAQW,QAAS,kBAAMJ,KAAvB,wBCnIWyS,GApBwB,WACrC,OAAQ,eAAC9V,EAAD,UACN,gBAACE,EAAD,WACE,eAACiB,EAAD,yBACA,gBAACtB,EAAD,WACE,eAACwB,EAAD,sBACA,eAAC,GAAD,OAEF,gBAACxB,EAAD,WACE,eAACwB,EAAD,uBACA,eAAC,GAAD,OAEF,gBAACxB,EAAD,WACE,eAACwB,EAAD,sBACA,eAAC,GAAD,aCdF0U,GAAO,IAAI3M,KAAG,OACd4M,GAAqB,IAAI5M,KAAG,MAC5B6M,GAAsB,IAAI7M,KAAG,SAE7B8M,GAAgBpW,IAAOiD,OAAV,4LAuFJoT,GAvEV,SAAC,GAAyB,IAAvBC,EAAsB,EAAtBA,gBACAC,EAAOC,iBAAwB,MADT,EAEUlH,mBAAwB,MAFlC,mBAErBmH,EAFqB,KAERC,EAFQ,OAGApH,mBAAoB,MAHpB,mBAGrBxG,EAHqB,KAGb6N,EAHa,KAkCtBC,EAAmBvL,GAAqB8K,IACxCU,EAA6B,MAAV/N,EAAiB,KAAOA,EAAO4C,IAAIwK,IAAoB/V,IAAI8V,IAC9Ea,EAAiD,MAApBD,GAAsC,MAAV/N,EAAiB,KAAOA,EAAO2C,IAAIoL,GAElG,OAAQ,uCACN,eAACtV,EAAD,uCACA,wBAAMkH,SAAU,SAAAzB,GAAC,OAAIA,EAAE0B,kBAAkBqO,IAAKR,EAA9C,UACE,gBAACjF,GAAD,2CACgCsF,EADhC,iCACgFV,GAAmBnM,SAAS,IAD5G,wBAEE,eAACyH,GAAD,CACE7I,KAAK,SAASqO,KAAK,OAAOC,YAAaL,EAAkBM,IAAKN,EAC9DnE,SAxCmB,SAACzL,GAC1B,IACImQ,EADEC,EAAkBpQ,EAAEoF,OAAOmG,MAEjC,IACE4E,EnBSC,SACLnM,GAEC,IADDqM,EACA,uDADmBnM,GAEnB,GAAsB,IAAlBF,EAAOmH,OAAc,OAAO,KAChC,IAAMmF,EAActM,EAAOuM,MAAMF,GACjC,GAAIC,EAAYnF,OAAS,EAAG,MAAM,IAAInG,GAAJ,gBAA+CsL,EAAYnF,OAAO,EAAlE,gCAA2FkF,EAA3F,4BAClC,IAAM1L,EAAkB2L,EAAY,GAAGE,QAAQ3M,GAAuB,IACtE,GAAIE,GAAoBY,GAAiB,MAAM,IAAIK,GAAJ,8CAC/C,IAAMT,EAAc,IAAIjC,KAAGqC,EAAgB,IAAID,IAAId,IAEnD,GAA2B,IAAvB0M,EAAYnF,OAAc,OAAO5G,EAErC,IAAMK,EAAoB0L,EAAY,GAAGE,QAAQ3M,GAAuB,IACxE,GAAIE,GAAoBa,GAAoB,MAAM,IAAII,GAAJ,iDAClD,IAAMR,EAAiB,IAAIlC,KAAGsC,EAAmB,IACjD,OAAOL,EAAYkM,IAAIjM,GmBzBPkM,CAA6BN,GACzC,MAAO9S,GACP,GAAIA,aAAiByH,GAEnB,YADA2K,EAAepS,EAAMT,SAEhB,MAAMS,EAEfoS,EAAe,MACE,MAAbS,IACAA,EAAUQ,GAAGxB,IACfO,EAAe,uBAGjBC,EAAUQ,UA0BQ,MAAfV,EAAsB,eAAC7Q,GAAD,UAAS6Q,IAAwB,+BACxD,gBAAC3V,EAAD,mEACwD,IACtD,eAACgB,EAAD,UAA+B,MAApB+U,EAA2B,IAAMxL,GAAqBwL,KAA6B,wBAFhG,qCAGqC,IACnC,eAAC/U,EAAD,UAAyC,MAA9BgV,EAAqC,IAAMzL,GAAqByL,QAE7E,eAAChW,EAAD,6BAMA,eAACsV,GAAD,CAAezN,KAAK,SAAShF,QApCF,SAACqD,GAA4C,IAAD,GACnC,KAAlC,UAAAuP,EAAKqB,eAAL,eAAcC,mBACJ,MAAV/O,EAIJwN,EAAgBxN,GAHd4N,EAAe,8BAiCf,SACE,sBAAK7C,IAA8B,qBAAsBC,IAAI,cAG/D,eAAChT,EAAD,UAAG,eAACa,EAAD,qFACH,eAACb,EAAD,UAAG,gBAACa,EAAD,iCAAgCuJ,GAAhC,0FC7BM4M,GAlDV,SAAC,GAAmC,IAAjCC,EAAgC,EAAhCA,WAAYC,EAAoB,EAApBA,cAAoB,EACM1I,oBAAS,GADf,mBAC/BC,EAD+B,KACfC,EADe,KAE9ByI,EAAmBnV,KAAnBmV,eACM5R,EAAWhE,IAAjB6V,KACFC,EAAMzI,aACV,CAAC,OAAQ,OACT,kBAAMvH,GAAc9B,KACpB,CACEkK,MAAO,SAACxB,EAAOzK,GAEb,OADAgB,GAAmBhB,IACfE,GAAoBF,EAAO,yBACxByK,EAAQ,GAEjByE,SAAUjE,IAkBd,OAdAnH,qBAAU,WACR,IAAKmH,EACH,GAAI4I,EAAI9P,UAAW,CACjB,IAAM+P,EAAcD,EAAI5T,KACxBiL,GAAkB,GAClByI,EAAeG,GACfL,EAAWK,QACF5T,GAAoB2T,EAAI7T,MAAO,0BACxCkL,GAAkB,GAClBwI,OAGH,CAACG,EAAI9P,UAAW8P,EAAI7T,QAEnB6T,EAAI7P,UACC,uCACL,eAAC/G,EAAD,gCACA,eAAC,GAAD,OAEO4W,EAAI5P,QACN,uCACL,eAAC,GAAD,CAAcjE,MAAO6T,EAAI7T,MAAzB,mDAGA,yBAAQX,QAAS,kBAAMwU,EAAIvI,WAA3B,0BAEmB,MAAZuI,EAAI5T,KACN,eAACzD,EAAD,4BAGF,gBAACA,EAAD,2BAAiBqX,EAAI5T,KAAOsE,SCiBtBwP,GA5DV,SAAC,GAA0C,IAAxClR,EAAuC,EAAvCA,OAAQ4Q,EAA+B,EAA/BA,WAAYO,EAAmB,EAAnBA,aAClBL,EAAmBnV,KAAnBmV,eACM5R,EAAWhE,IAAjB6V,KACF1R,EAAO,IAAIiN,KAAKtM,EAAO6J,UACvBuH,EAAwBrQ,aAC5B,CAAC,OAAQC,GAAgCrE,KAAMqD,EAAOC,aAAcD,EAAOV,UAC3E,kBAAM0B,GAAgC9B,EAAQG,EAAMW,EAAOV,WAC3D,CACE8J,MAAO,SAACxB,EAAOzK,GAEb,OADAgB,GAAmBhB,KACfA,aAAiB6D,OACjB3D,GAAoBF,EAAO,sBACxByK,EAAQ,MAerB,OAVA3G,qBAAU,WACR,GAAImQ,EAAsBlQ,UAAW,CACnC,IAAM+P,EAAcG,EAAsBhU,KAC1C0T,EAAeG,GACfL,EAAWK,QACF5T,GAAoB+T,EAAsBjU,MAAO,sBAC1DgU,MAED,CAACC,EAAsBlQ,UAAWkQ,EAAsBjU,QAEpD,uCACL,eAAC/C,EAAD,qDAEMgX,EAAsBjQ,UACjB,uCACL,eAACxH,EAAD,6CACA,gBAACA,EAAD,4DACgD,wBADhD,2CAIA,eAAC,GAAD,OAEOyX,EAAsBhQ,QACxB,uCACL,eAAC,GAAD,CAAcjE,MAAOiU,EAAsBjU,MAA3C,uEAGA,yBAAQX,QAAS,kBAAM4U,EAAsB/P,UAA7C,0BAEO+P,EAAsBlQ,UACxB,gBAACvH,EAAD,2BACSyX,EAAsBhU,KAAOsE,QAIxC,uCACL,eAAC/H,EAAD,uGACA,eAACkC,GAAD,CAAQW,QAAS,kBAAM4U,EAAsB/P,UAA7C,yBC/COgQ,GApBV,SAAC,GAAwB,IAAtBC,EAAqB,EAArBA,eAAqB,EACDnJ,mBAAiB,IADhB,mBACpB7L,EADoB,KACbiV,EADa,KAG3B,OAAQ,wBAAMjQ,SAAU,SAAAzB,GACtBA,EAAE0B,iBACF+P,EAAehV,IAFT,UAIN,gBAAC6N,GAAD,mBAEE,eAACE,GAAD,CACE7I,KAAK,OACLsO,YAAY,uBACZxE,SAAU,SAAAzL,GAAC,OAAI0R,EAAS1R,EAAEoF,OAAOmG,aAErC,eAACvP,GAAD,CAAQ2F,KAAK,SAAS4J,MAAM,SAA5B,yBCuDWoG,GA1DV,SAAC,GAA4B,IAA1BxR,EAAyB,EAAzBA,OAAQyR,EAAiB,EAAjBA,WACNX,EAAmBnV,KAAnBmV,eACM5R,EAAWhE,IAAjB6V,KACF1R,EAAO,IAAIiN,KAAKtM,EAAO6J,UAHE,EAIL1B,mBAAwB,MAJnB,mBAIxB7L,EAJwB,KAIjBiV,EAJiB,KAKzBG,EAAiB3Q,cACrB,SAACzE,GAAD,O7BuBG,SAAP,yC6BvBuB0E,CAAe9B,EAAQG,EAAMW,EAAQ1D,MAW1D,OARA2E,qBAAU,WACR,GAAIyQ,EAAexQ,UAAW,CAC5B,IAAM+P,EAAcS,EAAetU,KACnC0T,EAAeG,GACfQ,EAAWR,MAEZ,CAACS,IAEG,uCACL,eAACtX,EAAD,sBACA,eAACT,EAAD,+HAIA,gBAACA,EAAD,mGAEqCqG,EAAOV,QAF5C,QAKMoS,EAAevQ,UACV,uCACL,eAACxH,EAAD,gCACA,eAACA,EAAD,UAAG,eAACa,EAAD,0FAGH,eAAC,GAAD,OAEOkX,EAAetQ,QACjB,uCACL,eAAC,GAAD,CAAcjE,MAAOuU,EAAevU,MAApC,mDAGU,MAATb,EACG,eAACT,GAAD,CAAQW,QAAS,kBAAMkV,EAAeC,YAAYrV,IAAlD,uBACA,kCAGGoV,EAAexQ,UACjB,gBAACvH,EAAD,2BAAiB+X,EAAetU,KAAOsE,QAGzC,eAAC,GAAD,CAAY4P,eAAgB,SAAAhV,GACjCiV,EAASjV,GACToV,EAAeC,YAAYrV,UCLpBsV,GAlDV,SAAC,GAAoB,IAAlBhB,EAAiB,EAAjBA,WACEzU,EAAgBR,KAAhBQ,YADe,EAEmBgM,mBAAS,GAF5B,mBAEhBmF,EAFgB,KAEDC,EAFC,OAGiBpF,mBAAwB,MAHzC,mBAGhB2C,EAHgB,KAGFC,EAHE,OAIqB5C,oBAAS,GAJ9B,mBAIhBC,EAJgB,KAIAC,EAJA,KAavB,OAPApH,qBAAU,WACHmH,GAAiC,MAAfjM,IACrBkM,GAAkB,GAClBuI,EAAWzU,MAEZ,CAACA,IAEe,MAAfA,EACK,gBAACxC,EAAD,2BAAiBwC,EAAYuF,QAG9B,eAAC,GAAD,CAAUgG,aAAc4F,EAAxB,UACN,eAAC,GAAD,CAEEsD,WAAY,aACZC,cAAe,kBAAMtD,GAAiB,SAAAK,GAAG,OAAIC,KAAKC,IAAIF,EAAK,QAFtD+C,GAAuBhU,MAG9B,eAAC,GAAD,CAEE6N,iBAAkB,SAAAxK,GAChB+K,EAAgB/K,GAChBuN,GAAiB,SAAAK,GAAG,OAAIC,KAAKC,IAAIF,EAAK,OAJ1C,gDACO7B,GAAkBpP,OANnB,oBAac,MAAhBmO,EACA,CACA,eAAC,GAAD,CAEE9K,OAAQ8K,EACR8F,WAAYA,EACZO,aAAc,kBAAM5D,GAAiB,SAAAK,GAAG,OAAIC,KAAKC,IAAIF,EAAK,QAHrDsD,GAAsBvU,MAI7B,eAAC,GAAD,CAEEqD,OAAQ8K,EACR2G,WAAY,SAAA1R,GACV8R,QAAQC,KAAK,qDAAsD/R,GACnE6Q,EAAW7Q,KAJRyR,GAAY7U,OAOnB,CAAC,eAAC8B,GAAD,8BAAa,0B,gDCjDP,WACbY,EACAuL,EACAmH,EACApQ,EACAG,EACAyB,GANa,UAAA1J,EAAA,sEAQAwF,EAAKI,IAAIuS,gBAAgB,CACpCpH,OACAmH,KACAjQ,WACAyB,UACA6H,MAAOzJ,IAbI,oF,sBCSf,I,gDA0EesQ,GAnEV,SAAC,GAAyE,IAAvEjS,EAAsE,EAAtEA,OAAQ2B,EAA8D,EAA9DA,OAAQG,EAAsD,EAAtDA,SAAUyB,EAA4C,EAA5CA,QAAS2O,EAAmC,EAAnCA,UAAWC,EAAwB,EAAxBA,kBAC9C9S,EAAO,IAAIiN,KAAKtM,EAAO6J,UAD+C,EAEhC1B,oBAAS,GAFuB,mBAErEC,EAFqE,KAErDC,EAFqD,KAGtE+J,EAAmBrR,cACvB,kBDpBW,SAAf,6CCoBUsR,CACJhT,EAAMW,EAAOV,QAAS4S,EAAWvQ,EAAQG,EAAUyB,MAWvD,OAPAtC,qBAAU,YACHmH,GAAkBgK,EAAiBlR,YACtCmH,GAAkB,GAClB8J,EAAkBC,EAAiBhV,SAEpC,CAACgV,EAAiBlR,YAEd,uCACL,eAAC9G,EAAD,6CACE,WACA,GAAIgY,EAAiBjR,UACnB,OAAO,uCACL,gBAACxH,EAAD,4DACgD,wBADhD,2CAIA,eAAC,GAAD,UAAS,eAACA,EAAD,0BACT,eAACA,EAAD,UAAG,eAACa,EAAD,sGAEA,GAAI4X,EAAiBhR,QAC1B,OAAO,uCACL,eAAC,GAAD,CAAcjE,MAAOiV,EAAiBjV,MAAtC,oEAGA,eAACxD,EAAD,uIAIA,eAACkC,GAAD,CAAQW,QAAS,kBAAM4V,EAAiB/Q,UAAxC,0BAEG,GAAI+Q,EAAiBlR,UAAW,CACrC,IAAMsC,EAAS4O,EAAiBhV,KAAOmM,gBACvC,OAAO,uCACL,gBAAC5P,EAAD,iCACqB,wBACnB,eAACC,EAAD,CAAG+E,KAAM2E,GAAoBC,EAASC,GAASyB,OAAO,SAAtD,kCAIF,eAACpJ,GAAD,CAAQW,QAAS,kBAAM2V,EAAkBC,EAAiBhV,OAA1D,yBAMJ,OAAO,uCACL,eAACzD,EAAD,qEACA,gBAACA,EAAD,oBACQ,gBAACgB,EAAD,WAAWqF,EAAOV,QAAlB,8BAA6D,wBADrE,OAEM,gBAAC3E,EAAD,WAAWuX,EAAX,4BAAsD,wBAF5D,WAGU,eAACvX,EAAD,UAAW8H,GAAcd,KAHnC,YAKA,eAAC9F,GAAD,CAAQW,QAAS,kBAAM4V,EAAiB/Q,UAAxC,oBA3CF,OCHSiR,GA1BV,SAAC,GAAiE,IAA/D/O,EAA8D,EAA9DA,QAAS5B,EAAqD,EAArDA,OAAQuQ,EAA6C,EAA7CA,UAAWpQ,EAAkC,EAAlCA,SAAUqQ,EAAwB,EAAxBA,kBAAwB,EAC1BhK,mBAAS,GADiB,mBAC7DmF,EAD6D,KAC9CC,EAD8C,OAE5BpF,mBAAwB,MAFI,mBAE7D2C,EAF6D,KAE/CC,EAF+C,KAIpE,OAAO,eAAC,GAAD,CAAUrD,aAAc4F,EAAxB,UACL,eAAC,GAAD,CAEE9C,iBAAkB,SAAAxK,GAChB+K,EAAgB/K,GAChBuN,GAAiB,SAAAK,GAAG,OAAIC,KAAKC,IAAIF,EAAK,OAJ1C,6CACO7B,GAAkBpP,OAFpB,oBASgB,OAAjBmO,EAAwB,CAC1B,eAAC,GAAD,CAEEvH,QAASA,EACT2O,UAAWA,EACXlS,OAAQ8K,EACRnJ,OAAQA,EACRG,SAAUA,EACVqQ,kBAAmB,SAAApE,GAAO,OAAIoE,EAAkBpE,EAASjD,KANpDmH,GAAoBtV,OAOzB,QCkDO4V,GAnEV,SAAC,GAAkC,IAAhC5Q,EAA+B,EAA/BA,OAAQ6Q,EAAuB,EAAvBA,iBACGpQ,EAAclH,IAAvBoH,QACFmQ,EAAmB1R,cACvB,kB/BlBG,SAAP,qC+BkBU2R,CAActQ,EAAWT,MAWjC,OARAV,qBAAU,kBAAMwR,EAAiBpR,WAAU,CAACM,IAE5CV,qBAAU,WACJwR,EAAiBvR,WACnBsR,EAAiBC,EAAiBrV,QAEnC,CAACqV,EAAiBrV,OAEd,uCACL,eAAChD,EAAD,8BAEMqY,EAAiBtR,UACZ,uCACL,eAACxH,EAAD,0CACA,eAAC,GAAD,OAEO8Y,EAAiBrR,QACtB/D,GAAoBoV,EAAiBtV,MAAO,6BACvC,uCACL,gBAACxD,EAAD,yBAAeuK,GAAqBvC,GAApC,4BACA,gBAAChI,EAAD,kCACuB,IACrB,eAACC,EAAD,CAAG+E,KAAI,2DAAsDuF,GAAqBvC,IAAlF,+BAAmH,IAFrH,4CAMOtE,GAAoBoV,EAAiBtV,MAAO,4BAC9C,uCACL,gBAACxD,EAAD,oCAA0BuK,GAAqBvC,GAA/C,qDACA,gBAAChI,EAAD,kCACuB,IACrB,eAACC,EAAD,CAAG+E,KAAI,2BAAP,+BAA2D,IAF7D,mCAOG,uCACL,eAAC,GAAD,CAAcxB,MAAOsV,EAAiBtV,MAAtC,2DAGA,eAACtB,GAAD,CAAQW,QAAS,kBAAMiW,EAAiBpR,UAAxC,0BAEOoR,EAAiBvR,UACnB,uCACL,eAACvH,EAAD,oDAGA,eAACkC,GAAD,CACEW,QAAS,kBAAMgW,EAAiBC,EAAiBrV,OADnD,yBAOG,eAACqB,GAAD,uDCtDEkU,GAnBV,SAAC,GAAoB,IAAlBC,EAAiB,EAAjBA,WACN,OAAO,uCACL,gBAACha,EAAD,WACE,eAACwB,EAAD,kDACA,gBAACT,EAAD,oFACwE,eAACmB,EAAD,kBADxE,gDACqJ,eAACA,EAAD,+BADrJ,mDAGA,gBAACnB,EAAD,6BACiB,eAACmB,EAAD,kBADjB,4CAGA,eAACnB,EAAD,ySAKF,eAACkC,GAAD,CAAQW,QAAS,kBAAMoW,KAAvB,0BC2CWC,GAhDV,SAAC,GAAmD,IAAjDvQ,EAAgD,EAAhDA,QAASP,EAAuC,EAAvCA,UAAW+Q,EAA4B,EAA5BA,sBACT1Q,EAAclH,IAAvBoH,QACFmQ,EAAmB1R,cACvB,kBjCJG,SAAP,uCiCIUgS,CAAoB3Q,EAAWE,EAASP,MAWhD,OARAd,qBAAU,kBAAMwR,EAAiBpR,WAAU,IAE3CJ,qBAAU,WACJwR,EAAiBvR,WACnB4R,EAAsBL,EAAiBrV,QAExC,CAACqV,EAAiBrV,OAEd,uCACL,eAAChD,EAAD,oCAEMqY,EAAiBtR,UACZ,uCACL,eAACxH,EAAD,sEACA,eAAC,GAAD,OAEO8Y,EAAiBrR,QACnB,uCACL,eAAC,GAAD,CAAcjE,MAAOsV,EAAiBtV,MAAtC,yDAGA,eAACtB,GAAD,CAAQW,QAAS,kBAAMiW,EAAiBpR,UAAxC,0BAEOoR,EAAiBvR,UACnB,uCACL,eAACvH,EAAD,oDAGA,eAACkC,GAAD,CACEW,QAAS,kBAAMsW,EAAsBL,EAAiBrV,OADxD,yBAOG,eAACqB,GAAD,+CCyGEuU,GAxIV,SAAC,GAA+B,EAA7BC,cAA8B,IAAfjL,EAAc,EAAdA,QACb7L,EAAgBR,KAAhBQ,YAD2B,EAEPgM,mBAAoB,MAFb,mBAE5BxG,EAF4B,KAEpB6N,EAFoB,OAGLrH,mBAAyB,MAHpB,mBAG5B7F,EAH4B,KAGnB4Q,EAHmB,OAIuB/K,oBAAS,GAJhC,mBAI5BgL,EAJ4B,KAILC,EAJK,OAKuBjL,mBAEhD,MAPyB,mBAK5BkL,EAL4B,KAKLC,EALK,OAQiBnL,mBAAS,GAR1B,gCASSA,oBAAS,IATlB,mBAS5BoL,EAT4B,KASZC,EATY,OAUOrL,oBAAS,GAVhB,mBAU5BsL,EAV4B,KAUbC,EAVa,OAWOvL,mBAAiB,GAXxB,mBAW5BmF,EAX4B,KAWbC,EAXa,OAYCpF,qBAZD,mBAYhBwL,GAZgB,WAcnC1S,qBAAU,kBAAM0S,EAAc9F,KAAK+F,YAAW,IAuB9C,OAAQ,uCACR,eAAC,GAAD,CAAUlM,aAAc4F,EAAxB,gCACqB,MAAfnR,EACA,CAAC,eAAC,GAAD,CAECyU,WAAY,cADPgB,GAAYjV,OAEnB,IALN,CAOE,eAAC,GAAD,CAEEiW,WAAY,kBAAMrF,GAAiB,SAAAK,GAAG,OAAIC,KAAKC,IAAIF,EAAK,QADpD,cAEN,eAAC,GAAD,CAEEuB,gBAzBwB,SAAC0E,GAC3BhC,QAAQiC,IAAR,4BAAiCD,EAAjC,mBACArE,EAAUqE,GACVtG,GAAiB,SAAAK,GAAG,OAAIC,KAAKC,IAAIF,EAAK,QAqB/BsB,GAAYvS,OAXrB,aAagB,MAAVgF,EAAA,CAEA,eAAC,GAAD,CAEEA,OAAQA,EACR6Q,iBAAkB,SAAAlQ,GAChB4Q,EAAW5Q,GACXiL,GAAiB,SAAAK,GAAG,OAAIC,KAAKC,IAAIF,EAAK,QAJnC2E,GAAmB5V,OAH1B,oBASe,MAAX2F,EAAA,CAEA,eAAC,GAAD,CAEEiB,Q7BxFmB,E6ByFnB2O,U7B1FkB,6C6B2FlBvQ,OAAQW,EAAQT,WAChBC,SAAUQ,EAAQR,SAClBqQ,kBAAmB,SAACpE,EAAS/N,GAC3BsT,EAAyB,CAACvF,UAAS/N,WACnCuN,GAAiB,SAAAK,GAAG,OAAIC,KAAKC,IAAIF,EAAK,QAPnC0E,GAAY3V,OAHnB,oBAY6B,MAAzB0W,EAAA,CAEA,eAAC,GAAD,CAEE/Q,QAASA,EACTP,UAAWsR,EAAsBtF,QAAQxE,gBACzCuJ,sBAAuB,SAACxQ,GACtB4Q,EAAW5Q,GACX8Q,GAAyB,GACzB7F,GAAiB,SAAAK,GAAG,OAAIC,KAAKC,IAAIF,EAAK,QANnCiF,GAAyBlW,OAHhC,oBAWMwW,EAAqB,CAErB,eAAC,GAAD,CAEE9T,KAAM,IAAIiN,KAAK+G,EAAsBrT,OAAO6J,UAC5CtG,Q7BhHS,E6BiHTsF,UAAWwK,EAAsBtF,QACjCjF,uBAAwB,WACtB0K,GAAkB,GAClBjG,GAAiB,SAAAK,GAAG,OAAIC,KAAKC,IAAIF,EAAK,QANnChF,GAAkBjM,OAHJ,oBAWjB4W,EAAc,CAEd,eAAC,GAAD,CAEEjR,QAASA,EACT4F,WAAY,WACVwL,GAAiB,GACjBnG,GAAiB,SAAAK,GAAG,OAAIC,KAAKC,IAAIF,EAAK,QAJnC3F,GAAmBtL,OAHZ,oBASV8W,EACA,CACA,eAAC,GAAD,CAEEnR,QAASA,EACT0F,QAASA,GAFJD,GAAapL,OAIpB,KAGJ,KAGJ,KAGN,KAGJ,KAIJ,OAGL2Q,EAAgB,EACb,eAACzR,GAAD,CAAQW,QAAS,kBAAM+Q,GAAiB,SAAAK,GAAG,OAAIC,KAAKC,IAAI,EAAGF,EAAM,OAAjE,kBACA,mC,UC/ISmG,GAVyC,SAAC,GAEnD,IADF5W,EACC,EADDA,MAAO6W,EACN,EADMA,mBAET,OAAQ,uCACN,eAACra,EAAD,yDACA,eAACiB,EAAD,UAAMuC,EAAMT,UACZ,eAACb,GAAD,CAAQW,QAASwX,EAAjB,2BCHEC,GAAiB,SAACC,GAAD,OAAkBlP,KAAKmP,MAAQD,GAEhDE,GAAiB,SAACC,GAAD,OAAeA,EAAI,KACpCC,GAAiB,SAACD,GAAD,OAAeD,GAAeC,GAAK,IACpDE,GAAe,SAACF,GAAD,OAAeC,GAAeD,GAAK,IAElDG,GAAc,SAACH,GAAD,OAAexG,KAAK4G,MAAMF,GAAaF,GAAK,KAC1DK,GAAoB,SAACL,GAAD,OAAexG,KAAK4G,MAAMF,GAAaF,GAAK,KAChEM,GAAuB,SAACN,GAAD,OAAexG,KAAK4G,MAAMH,GAAeD,GAAK,KACrEO,GAAyB,SAACP,GAAD,OAAexG,KAAK4G,MAAML,GAAeC,GAAK,KAUvEQ,GAAe,SAACR,GACpB,IAAMS,EAAOjH,KAAKkH,IAAIV,GACtB,MAAO,CACLW,WAAYX,EAAI,EAChBY,KAAMT,GAAYM,GAClBI,WAAYR,GAAkBI,GAC9BK,cAAeR,GAAqBG,GACpCM,gBAAiBR,GAAuBE,KAItCO,GAAuB,SAACC,EAA2BC,GAA5B,MAA2D,CACtF3H,IAAK0H,EACLE,IAAKD,IAGDE,GAAY5c,IAAO6B,KAAV,oGAMTgb,GAAa7c,IAAO6B,KAAV,wDAIHib,GAA+C,SAAC,GAAY,IAAXzB,EAAU,EAAVA,KAAU,EAChC/L,mBAASkN,GAC7CR,GAAae,KACbf,IAAcZ,GAAeC,MAHuC,mBAC/D2B,EAD+D,KAClDC,EADkD,KAoBtE,OAdA7U,qBAAU,WACR,IAAM8U,EAAWC,OAAOC,aAAY,WAClC,IAAMC,EAAWb,GACfQ,EAAYL,IACZX,IAAcZ,GAAeC,KAE/B4B,EAAeI,KACd,IAEH,OAAO,WACLF,OAAOG,cAAcJ,OAKvB,sBAAK5O,UAAW,YAAhB,SACE,gBAACsO,GAAD,WACE,gBAACC,GAAD,WACGG,EAAYL,IAAIR,WAAa,IAAM,GACnCa,EAAYL,IAAIP,KAAKrS,WAAWwT,SAAS,EAAG,QAHjD,IAME,eAACV,GAAD,UACGG,EAAYL,IAAIN,WAAWtS,WAAWwT,SAAS,EAAG,OAPvD,IAUE,eAACV,GAAD,UACGG,EAAYL,IAAIL,cAAcvS,WAAWwT,SAAS,EAAG,OAX1D,IAcE,eAACV,GAAD,UACGG,EAAYL,IAAIJ,gBAAgBxS,WAAWwT,SAAS,EAAG,aCzE5DC,GAASxd,YAAOqB,EAAPrB,CAAH,qIASNyd,GAAqBzd,IAAOG,IAAV,sDAIlBud,GAAmB1d,IAAOiD,OAAV,yKAkEP0a,GArDV,SAAC,GAAuB,IAArBvD,EAAoB,EAApBA,cAAoB,EAC0B9K,oBAAS,GADnC,mBACnBsO,EADmB,KACCC,EADD,KAIpBpd,GADqBqC,KACbU,eAWRsa,EAAa,WACjBD,GAAsB,IAGxB,OAAQ,eAAC3d,EAAD,UACN,gBAACE,EAAD,WACE,gBAACod,GAAD,WACE,oDADF,4CAIA,gBAAC1c,EAAD,uCAC2B,eAACmB,EAAD,iBAD3B,kDAGA,gBAACnB,EAAD,6GACkG,IAChG,eAACC,EAAD,CAAG+E,KAAK,4BAAR,2BAEF,gBAAC2X,GAAD,WACE,eAAC,GAAD,CAAWpC,KA/BD,eAgCV,eAACva,EAAD,iDAEF,eAACsC,GAAD,CAAWO,QA9BkB,WAC/Bka,GAAsB,IA6BpB,wBACA,gBAAC,KAAD,CACEtP,MAAOjB,GAAW7M,GAClBoV,OAAQ+H,EACR9H,aAAa,uBACbC,eAAgB+H,EAJlB,UAKE,eAACJ,GAAD,CAAkB/Z,QAASma,EAA3B,SACE,eAAC,KAAD,CAAiBxR,KAAMG,KAASsR,KAAK,SAEvC,eAAC,iBAAD,CAAeC,kBAAmB9C,GAAlC,SACE,eAAC,GAAD,CAAgBd,cAAeA,EAAejL,QAAS,kBAAM2O,kBCnF1DG,GAAS,SAACC,GACtB,OACC,gBAAC,IAAD,WACEA,EAAMlY,SACP,gBAAC,IAAD,WACC,eAAC,IAAD,CAAOmY,OAAK,EAACC,KAAMC,EAAuBC,UAAWC,KACrD,eAAC,IAAD,CAAOJ,OAAK,EAACC,KAAMC,EAAwBC,UAAWtI,KACtD,eAAC,IAAD,CAAOsI,UAAWC,YCNTC,GAAmBxe,IAAOG,IAAV,oDAC1BU,GACQ,qBAAG4d,cAAqC,IAAM,OAAS,UCFrDC,GAAiB1e,IAAOG,IAAV,yXAWC,SAAC+d,GAAD,OAAWA,EAAMzd,MAAMC,MAAMwC,UAO5Cyb,GAAc3e,IAAO6B,KAAV,wHACrBvB,GACa,kBAAoC,WAApC,EAAGse,WAA4C,OAAS,YAO3DC,GAAc7e,IAAO8e,IAAV,6JAUXC,GAAU/e,IAAOgf,GAAV,mNAWPC,GAAcjf,IAAOkf,GAAV,oDC7CXC,IDiDOnf,IAAOG,IAAV,kHCjDiD,SAAC,GAA2B,IAAzBif,EAAwB,EAAxBA,KAAMC,EAAkB,EAAlBA,KAAMC,EAAY,EAAZA,MAC1EC,EAAUC,cACVC,EAAeC,cAErB,OACC,gBAAChB,GAAD,WACC,eAACG,GAAD,CAAa/K,IAAI,iBAAiBD,IAAKuL,EAAMzb,QAAS,kBAAM4b,EAAQI,KAAKL,EAAM,OAC/E,gBAACP,GAAD,WACC,eAACE,GAAD,UACC,eAACN,GAAD,CACCC,WAAYa,EAAaG,SAASC,SAASP,EAAM,IAAM,SAAW,YAClE3b,QAAS,kBAAM4b,EAAQI,KAAKL,EAAM,KAFnC,SAIED,EAAK,OAGR,eAACJ,GAAD,UACC,eAACN,GAAD,CACCC,WAAYa,EAAaG,SAASC,SAASP,EAAM,IAAM,SAAW,YAClE3b,QAAS,kBAAM4b,EAAQI,KAAKL,EAAM,KAFnC,SAIED,EAAK,OAGR,eAACJ,GAAD,UACC,eAACN,GAAD,CAAaC,WAAY,YAAajb,QAAS,kBAAMwZ,OAAO2C,SAASha,KAAO,wBAA5E,oCC7BQia,GAAe/f,IAAOiD,OAAV,4rBA6BT,qBAAG+c,KAAmB,gBAAkB,eAI1C,qBAAGA,KAAmB,IAAM,OAC1B,qBAAGA,KAAmB,mBAAqB,mBAI3C,qBAAGA,KAAmB,iBAAmB,eCpC5CC,GAAyC,SAAC,GAAuB,IAArBD,EAAoB,EAApBA,KAAME,EAAc,EAAdA,QAC9D,OACC,gBAACH,GAAD,CAAcC,KAAMA,EAAMrc,QAAS,kBAAMuc,GAASF,IAAlD,UACC,yBACA,yBACA,6BCPUG,GAAangB,IAAOogB,IAAV,8hBAIF,SAAClC,GAAD,OAAWA,EAAMzd,MAAMC,MAAMyC,WAQpC,qBAAG6c,KAAmB,gBAAkB,uBCPzCK,GAAqC,SAAC,GAA2B,IAAzBL,EAAwB,EAAxBA,KAAMX,EAAkB,EAAlBA,KAAMC,EAAY,EAAZA,MAC1DC,EAAUC,cAChB,OACC,gBAACW,GAAD,CAAYH,KAAMA,EAAlB,UACC,sBAAK1R,UAAU,YAAY3K,QAAS,kBAAM4b,EAAQI,KAAKL,EAAM,KAA7D,SACED,EAAK,KAEP,sBAAK/Q,UAAU,YAAY3K,QAAS,kBAAM4b,EAAQI,KAAKL,EAAM,KAA7D,SACED,EAAK,KAEP,sBAAK/Q,UAAU,YAAY3K,QAAS,kBAAMwZ,OAAO2C,SAASha,KAAO,wBAAjE,8BCdGwa,GAAUtgB,IAAOG,IAAV,8DAKPogB,GAAOvgB,IAAO8e,IAAV,2IAsBG0B,GAAmD,SAAC,GAA2B,IChC1DzJ,EAAS0J,EDgCwBrB,EAAwB,EAAxBA,KAAMC,EAAkB,EAAlBA,KAAMC,EAAY,EAAZA,MAAY,EAClEhQ,oBAA8B,GADoC,mBACnF0Q,EADmF,KAC7EE,EAD6E,KAEpFQ,EAAOlK,iBAAuB,MClCHO,EDmCf2J,ECnCwBD,EDmClB,kBAAMP,GAAQ,IClCtC9X,qBAAU,WACT,IAAMuY,EAAW,SAACC,GACZ7J,EAAIa,UAAWb,EAAIa,QAAQiJ,SAASD,EAAMxU,SAG/CqU,EAAQG,IAGT,OADAE,SAASC,iBAAiB,YAAaJ,GAChC,WACNG,SAASE,oBAAoB,YAAaL,MAEzC,CAAC5J,EAAK0J,IDwBOjB,cAChB,OACC,gBAACc,GAAD,CAASvJ,IAAK2J,EAAd,UACC,eAACH,GAAD,CAAMjS,UAAU,YAAYwF,IAAI,iBAAiBD,IAAKuL,EAAMzb,QAAS,eACrE,eAAC,GAAD,CAAQqc,KAAMA,EAAME,QAASA,IAC7B,eAAC,GAAD,CAAMF,KAAMA,EAAME,QAASA,EAASb,KAAMA,EAAMC,MAAOA,QE3C3C,OAA0B,6CCQnC2B,GADqB,CAAC,UAAW,UAAW,cAQ5CC,GALuB,CAC5B7C,EACAA,EACAA,GAIY8C,GAAa,WAAO,IAAD,EACK7R,mBAAS,CAC5C8R,OAAQjE,OAAOkE,YACf7S,MAAO2O,OAAOmE,aAHgB,mBACxBC,EADwB,KACZC,EADY,KAM/BpZ,qBAAU,WACT,IAAMqZ,EAAe,WACpBD,EAAc,CACbJ,OAAQjE,OAAOkE,YACf7S,MAAO2O,OAAOmE,cAMhB,OAFAnE,OAAO4D,iBAAiB,SAAUU,GAE3B,WACNtE,OAAO6D,oBAAoB,SAAUS,OAYvC,OAAO,eAACjD,GAAD,CAAkBC,cAAe8C,EAAW/S,MAA5C,SAPF+S,EAAW/S,MAAQ,IACf,eAAC,GAAD,CAAkB4Q,KAAMsC,GAAgBrC,KAAM4B,GAAgB3B,MAAO4B,KAErE,eAAC,GAAD,CAAmB9B,KAAMsC,GAAgBrC,KAAM4B,GAAgB3B,MAAO4B,Q,UClCzE,SAASS,GAASta,EAAcua,GACrC,OAAOC,cAAG,GAAD,OAAIxa,EAAJ,YAAYua,GAAM,CACzBE,iBAAiB,I,aCRd,SAAeC,GAAtB,mC,gDAAO,WAAgC1a,GAAhC,kBAAArG,EAAA,sEACasG,MAAM,GAAD,OAAID,EAAJ,sBAA8B,CACnDG,YAAa,YAFV,cACCC,EADD,gBAImBA,EAAIC,OAJvB,cAICC,EAJD,yBAKEvD,GAAeuD,IALjB,4C,oCCgBDqa,GAA4C,0CAClDhJ,QAAQC,KAAR,0BAAgD,OAAhD,wBAAsE+I,KACtE,IFN0B3a,G,SEMpBQ,GAAW,UAAMma,GAAN,QACX1f,GFNG,CACL4V,KAAMyJ,GAFgBta,GEOJ2a,GFLG,QACrBC,YAAaN,GAASta,GAAM,eAC5BoC,QAASkY,GAASta,GAAM,YEItBS,GAAiB,CACrBT,KAAMQ,IAIFqa,GAAiBliB,IAAOG,IAAV,6FACE,SAAAK,GAAC,OAAIA,EAAEC,MAAMC,MAAM+M,cA2E1B0U,GAtEoB,WAAO,IAAD,EACO7S,oBAAS,GADhB,mBAChC8S,EADgC,KACfC,EADe,OAED/S,mBAAyB,MAFxB,mBAEhChM,EAFgC,KAEnB2U,EAFmB,OAGT3I,mBAAsB,IAAI+C,KAHjB,mBAGhCzP,EAHgC,KAGvBiP,EAHuB,KAIjCyQ,EAAQC,eACR9hB,EAAQ+C,cAEd4E,qBAAU,WACRD,GAAc7F,GAAI4V,MAAMsK,MAAK,SAAAC,GACV,MAAbA,IACFH,EAAM9V,QAAN,cACAyL,EAAewK,OAEhBC,OAAM,SAAApe,GAELA,aAAiBL,IACS,yBAAvBK,EAAMJ,eAEX8U,QAAQ1U,MAAMA,GACdge,EAAMhe,MAAN,wCAEF8Y,aAAY,WACV2E,GAAiBla,MA9BY,KAgC/Bka,GAAiBla,MAChB,CAACya,IAEJ,IAAMK,EAAiD,CACrDrf,YAAaA,EACb2U,eAAgB,SAAA3U,GACd2U,EAAe3U,IAEjB0E,gBAAiB,kBAAMiQ,EAAe,OACtC1U,iBAAkB,WAChB8e,GAAmB,KAIjBO,EAA8C,CAClDhgB,UACAiP,cAGF,OACE,eAACpP,EAAYogB,SAAb,CAAsBtQ,MAAOzK,GAA7B,SACE,eAAC3F,EAAW0gB,SAAZ,CAAqBtQ,MAAOjQ,GAA5B,SACE,eAACI,EAAemgB,SAAhB,CAAyBtQ,MAAOqQ,EAAhC,SACE,eAAC/f,EAAmBggB,SAApB,CAA6BtQ,MAAOoQ,EAApC,SACE,gBAACT,GAAD,WACE,eAAC,GAAD,UACE,eAAC,GAAD,MAGF,eAAC,KAAD,CACE3T,MAAOjB,GAAW7M,GAClBoV,OAAQuM,EACRtM,aAAa,eACbgN,2BAA2B,EAJ7B,SAKE,eAAC,GAAD,CAAa/K,WAAY,WACvBsK,GAAmB,oB,6BCtF/BU,GAAoB/iB,IAAOG,IAAV,4GAMjB6iB,GAAmBhjB,IAAOiD,OAAV,oIAQhBggB,GAAgBjjB,IAAO6B,KAAV,uDAoBJqhB,GAhBwD,SAAC,GAEjE,IADL3U,EACI,EADJA,MAAO4U,EACH,EADGA,QAAStf,EACZ,EADYA,QAASuf,EACrB,EADqBA,MAEnB3iB,EAAQ+C,cAEd,OAAQ,gBAACuf,GAAD,CAAmBxU,MAAOA,EAA1B,UACN,eAAC0U,GAAD,UAAgC,MAAhBE,EAAQxa,KAAe,GAAM,CAC3CsQ,KAAM,eAAC,KAAD,CAAiB3M,KAAM+W,KAAQtF,KAAK,KAAKrd,MAAOD,EAAMC,MAAMuY,OAClEzM,QAAS,eAAC,KAAD,CAAiBF,KAAMC,KAASwR,KAAK,KAAKrd,MAAOD,EAAMC,MAAM8L,UACtElI,MAAO,eAAC,KAAD,CAAiBgI,KAAMgX,KAAevF,KAAK,KAAKrd,MAAOD,EAAMC,MAAM4D,SACzE6e,EAAQxa,QACV9E,EACD,eAACmf,GAAD,CAAkBrf,QAASyf,EAA3B,SAAkC,eAAC,KAAD,CAAiB9W,KAAMG,KAASsR,KAAK,a,oBCvBrEwF,GAAkB,UAElB9iB,GAAsB,CAC3BC,MAAO,CACN+M,WAAY8V,GACZpgB,QAASqgB,aAAQ,GAAKD,IACtBrgB,OAAQsgB,aAAQ,GAAKD,IACrB5iB,KAAM8iB,aAAO,GAAK,QAChBxK,KAAM,UACNzM,QAAS,UACTlI,MAAO,UACPrD,KAAM,UACNC,YAAa,UACbC,UAAW,UACXC,WAAY,WAEfR,KAAM,CACLD,KAAM,gBACN+iB,MAAO,kBAIaC,aACpB,+GAGFC,KAAMC,cAAc,SAEpB,IAAMC,GAAc,IAAIC,KACxBC,aAAe,CACb1f,MAAO,WAAc,IAAD,uBAAT2f,EAAS,yBAATA,EAAS,gBACb1e,GAAiB0e,EAAK,KAAKjL,QAAQ1U,MAAM4f,MAAMlL,QAASiL,IAE/DhJ,IAAKjC,QAAQiC,IACbkJ,KAAMnL,QAAQmL,OAKhB,IAAMC,GAAqC,CACzC1W,SAAU2W,KAAUC,UACpB1f,QAAS,IACT2f,OAAQ,OACR9V,WAAY+V,KAAYC,OAG1BC,IAASC,OACP,eAAC,IAAMC,WAAP,UACE,eAAC,IAAD,CAAenkB,MAAOA,GAAtB,SACE,eAAC,KAAD,yBAAeokB,SAAU3B,IAAmBkB,IAA5C,aACE,eAACU,GAAA,EAAD,CAAqBC,OAAQjB,GAA7B,SACE,eAAC,GAAD,aAKRhD,SAASkE,eAAe,W","file":"static/js/main.9e87a8e2.chunk.js","sourcesContent":["const homeView: string = '/';\nconst myProfile: string = '/myprofile';\n\n/* eslint import/no-anonymous-default-export: [2, {\"allowObject\": true}] */\nexport default {\n\thomeView,\n\tmyProfile\n};\n","import styled from \"styled-components\";\n\nexport const Section = styled.section`\n  margin-bottom: 2rem;\n`\n\nexport const MainWrapper = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`\n\nexport const Main = styled.main`\n  padding: 1rem 1.5rem;\n  max-width: 60rem;\n  width: 100%;\n\n  @media (min-width: 600px) {\n    padding: 3rem 5rem;\n  }\n`\n\nexport const HorizontalCenter = styled.div`\n  justify-content: center;\n  display: flex;\n`\n","import { css } from \"styled-components\"\n\nexport const BaseText = css`\n  color: ${p => p.theme.color.text};\n  font-family: ${p => p.theme.font.text};\n`\n\nexport const BaseTitle = css`\n  color: ${p => p.theme.color.text};\n  font-family: ${p => p.theme.font.text};\n`\n","import styled from \"styled-components\"\nimport { BaseText, BaseTitle } from \"./base\"\n\nexport const P = styled.p`\n  ${BaseText}\n  font-size: 14pt;\n`\n\nexport const A = styled.a`\n  ${BaseText}\n\n  color: ${p => p.theme.color.link};\n\n  &:visited {\n    color: ${p => p.theme.color.linkVisited};\n  }\n\n  &:hover {\n    color: ${p => p.theme.color.linkHover};\n  }\n\n  &:active {\n    color: ${p => p.theme.color.linkActive};\n    border: 1px dashed white;\n  }\n`\n\nexport const H1 = styled.h1`\n  ${BaseTitle}\n  font-size: 40pt;\n`\n\nexport const H2 = styled.h2`\n  ${BaseTitle}\n  font-size: 24pt;\n  margin-top: 0.2em;\n`\n\nexport const H3 = styled.h3`\n  ${BaseTitle}\n`\n\nexport const H4 = styled.h4`\n  ${BaseTitle}\n`\n\nexport const SpanItalic = styled.span`\n  font-style: italic;\n`\n\nexport const MonoData = styled.span`\n  font-family: monospace;\n  font-size: 12pt;\n`\n\nexport const Pre = styled.pre`\n  color: ${p => p.theme.color.text};\n`\n\nexport const PreItalic = styled(Pre)`\n  font-style: italic;\n`\n\nexport const StrongNumber = styled.strong`\n  font-size: 16pt;\n`\n","import { createContext, useContext } from \"react\";\nimport { Ios } from \"./service/api/io\";\nimport { UserDto } from \"./service/model/User\";\nimport Wallet from \"./service/eth/Wallet\";\n\nexport const IosContext = createContext<Ios | null>(null)\n\nexport function useIos() {\n  const ios = useContext(IosContext)\n  if (ios == null) throw new Error('IosContext is not initialized')\n  return ios\n}\n\nexport type RestData = {\n  base: string\n}\n\nexport const RestContext = createContext<RestData | null>(null)\n\nexport function useRest() {\n  const rest = useContext(RestContext)\n  if (rest == null) throw new Error('RestContext is not initialized')\n  return rest\n}\n\nexport interface WalletsProviderData {\n  wallets: Set<Wallet>,\n  setWallets: (setter: (currentWallets: Set<Wallet>) => Set<Wallet>) => void\n}\n\nexport const WalletsContext = createContext<WalletsProviderData | null>(null)\n\nexport function useWallets() {\n  const wallets = useContext(WalletsContext)\n  if (wallets == null) throw new Error('WalletsContext is not initialized')\n  return wallets\n}\n\nexport interface CurrentUserContextData {\n  currentUser: UserDto | null,\n  setCurrentUser: (currentUser: UserDto) => void,\n  nullCurrentUser: () => void, // To avoid type confusion\n  launchLoginModal: () => void\n}\n\nexport const CurrentUserContext = createContext<CurrentUserContextData | null>(null)\n\nexport function useCurrentUserDetails() {\n  const currentUserContext = useContext(CurrentUserContext)\n  if (currentUserContext == null) throw new Error('CurrentUserContext is not initialized')\n  return currentUserContext\n}\n","import styled from \"styled-components\";\nimport { BaseTitle } from \"./base\";\n\nexport const Button = styled.button`\n  ${BaseTitle}\n  border: 2px solid ${p => p.theme.color.border};\n  background-color: ${p => p.theme.color.surface};\n  padding: 0.5em 0.6em;\n  text-transform: uppercase;\n  font-size: 13pt;\n  font-weight: 800;\n  display: block;\n  margin-top: 1rem;\n  cursor: pointer;\n`\n\nexport const ButtonBig = styled(Button)`\n  font-size: 20pt;\n`\n","import { faCheck, faInfoCircle, faTimes } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React, { FunctionComponent, useState } from \"react\";\nimport { useQuery } from \"react-query\";\nimport styled, { useTheme } from \"styled-components\";\nimport { useCurrentUserDetails } from \"../../../contexts\";\nimport { Button } from \"../../style/button\";\nimport { MonoData, P, SpanItalic } from \"../../style/text\";\n\nconst CurrentUserInfo: FunctionComponent<{}> = () => {\n  const { currentUser, launchLoginModal } = useCurrentUserDetails()\n  const theme = useTheme()\n\n  if (currentUser != null) {\n    return <>\n      <P>\n        Email address: <MonoData>{currentUser.email}</MonoData><br/>\n        <SpanItalic>We only use your email address to send transactional emails.</SpanItalic>\n      </P>\n      <P>\n        Ethereum address: <MonoData>{currentUser.ethAddress}</MonoData><br/>\n        All investment rewards for the ICO will be sent to this address.\n      </P>\n    </>\n  }\n\n  return <>\n    <P>You need to be logged in to view your user info.</P>\n    <Button onClick={() => launchLoginModal()}>Log in</Button>\n  </>\n}\n\nexport default CurrentUserInfo\n","import { Socket } from \"socket.io-client\";\n\nconst DEFAULT_API_CALL_TIMEOUT = 7000\n\nexport type ApiResult<T> = {\n  data: T,\n  error: null\n} | {\n  data: null,\n  error: {\n    name: string | null,\n    message: string\n  }\n}\n\nexport abstract class ApiException extends Error {\n  constructor(message?: string) {\n    super(message)\n    this.name = 'ApiException'\n  }\n}\n\nexport class ApiCallTimeoutException extends ApiException {\n  constructor(message?: string) {\n    super(message)\n    this.name = 'ApiCallTimeoutException'\n  }\n}\n\nexport class UnknownApiException extends ApiException {\n  constructor(message: string) {\n    super(message)\n    this.name = 'UnknownApiException'\n  }\n}\n\nexport class NamedApiException extends ApiException {\n  originalName: string\n  originalMessage: string\n\n  constructor(name: string, message: string) {\n    super(`${name}: ${message}`)\n    this.name = 'NamedApiException'\n    this.originalMessage = message\n    this.originalName = name\n  }\n}\n\nexport function parseApiResult<T>(apiResponse: ApiResult<T>) {\n  if (apiResponse.error == null) {\n    return apiResponse.data\n  } else {\n    if (apiResponse.error.name == null) {\n      throw new UnknownApiException(apiResponse.error.message)\n    } else {\n      throw new NamedApiException(apiResponse.error.name, apiResponse.error.message)\n    }\n  }\n}\n\nexport function isNamedApiException(error: any, name: string) {\n  return error instanceof NamedApiException && error.originalName === name\n}\n\nexport function asyncApiCall<I = null, O = null>(\n  socket: Socket,\n  ev: string,\n  data: I | null = null,\n  timeout = DEFAULT_API_CALL_TIMEOUT\n) {\n  return new Promise<O>((resolve, reject) => {\n    setTimeout(() => reject(new ApiCallTimeoutException()), timeout)\n    socket.emit(\n      ev,\n      data,\n      (msg: ApiResult<O>) => {\n        try {\n          resolve(parseApiResult(msg))\n        } catch (error) {\n          reject(error)\n        }\n      }\n    );\n  })\n}\n","import { NamedApiException } from \"./service/api\"\n\nexport async function tryRetrow<T>(\n  tryBlock: () => Promise<T>,\n  retrowBlock: (e: any) => any\n) {\n  try {\n    return await tryBlock()\n  } catch (error) {\n    throw retrowBlock(error)\n  }\n}\n\nexport const ifElse = <I, E>(\n  condition: () => boolean | boolean,\n  ifBlock: () => I,\n  elseBlock: () => E\n) => (typeof condition === 'function' ? condition() : condition)\n  ? ifBlock()\n  : elseBlock()\n\nexport function markErrorProcessed(error: any) {\n  if (typeof error === 'object' && error != null) {\n    (error as any)['processed'] = true\n  }\n}\n\nexport function isErrorProcessed(error: any) {\n  return typeof error === 'object'\n    && error != null\n    && (error as any)['processed'] === true\n}\n\nexport function errorToString(error: any) {\n  if (error instanceof Error) {\n    if (error instanceof NamedApiException) {\n      return `${error.originalName}: ${error.message}`\n    }\n    return `${error.name}: ${error.message}`\n  }\n  const stringRepresentation = `${error}`\n  if (stringRepresentation === '[object Object]') {\n    try {\n      return JSON.stringify(error)\n    } catch (error) {\n      // pass to fallback\n    }\n  }\n  return stringRepresentation\n}\n","import styled from \"styled-components\";\n\nexport const ErrorP = styled.p`\n  color: red;\n`\n","import React from \"react\";\nimport { FunctionComponent } from \"react\";\nimport { P, A } from \"../style/text\";\n\nconst ErrorContactInfo: FunctionComponent<{}> = () => <P>\n  Please contact us at{' '}\n  <A href={`mailto:info@artvalue.org`}>info@artvalue.org</A>{' '}\n  and we will help to resolve the problem.\n</P>\n\nexport default ErrorContactInfo\n","import React, { FunctionComponent } from \"react\";\nimport { errorToString } from \"../../util\";\nimport { ErrorP } from \"../style/error\";\nimport { P } from \"../style/text\";\nimport ErrorContactInfo from \"./ErrorContactInfo\";\n\nconst GenericError: FunctionComponent<{\n  error: any\n}> = ({ error, children }) => <>\n  <P>{children}</P>\n  <ErrorP>{errorToString(error)}</ErrorP>\n  <ErrorContactInfo />\n</>\n\nexport default GenericError\n","import { FunctionComponent } from \"react\"\nimport styled from \"styled-components\"\n\nconst RingContainer = styled.div`\n  display: inline-block;\n  position: relative;\n  overflow: visible;\n  width: 80px;\n  height: 80px;\n\n  @keyframes loadingRingKf {\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n`\n\nconst RingPart = styled.div`\n  box-sizing: border-box;\n  display: block;\n  position: absolute;\n  width: 64px;\n  height: 64px;\n  margin: 8px;\n  border: 8px solid #fff;\n  border-radius: 50%;\n  animation: loadingRingKf 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;\n  border-color: #fff transparent transparent transparent;\n\n  &:nth-child(1) {\n    animation-delay: -0.45s;\n  }\n  \n  &:nth-child(2) {\n    animation-delay: -0.3s;\n  }\n\n  &:nth-child(3) {\n    animation-delay: -0.15s;\n  }\n`\n\nconst LoadingRing: FunctionComponent<{}> = () => (\n  <RingContainer>\n    <RingPart />\n    <RingPart />\n    <RingPart />\n    <RingPart />\n  </RingContainer>\n)\n\nexport default LoadingRing\n","import { Socket } from \"socket.io-client\";\nimport Web3 from \"web3\";\nimport { ApiResult, asyncApiCall, parseApiResult } from \".\";\nimport { tryRetrow } from \"../../util\";\nimport Wallet from \"../eth/Wallet\";\nimport { UserDto } from \"../model/User\";\n\nexport async function getMe(\n  authIo: Socket\n) {\n  return await asyncApiCall<null, UserDto>(authIo, 'me')\n}\n\nexport class SigningDeniedException extends Error {\n  constructor(message?: string) {\n    super(message)\n    this.name = 'SigningDeniedException'\n  }\n}\n\nexport async function authenticateThroughWeb3(\n  authIo: Socket,\n  web3: Web3,\n  address: string\n) {\n  const signedVerifier = await asyncApiCall<null, string>(authIo, 'verifier')  \n  const signedVerifierHash = web3.eth.accounts.hashMessage(signedVerifier)\n  const userSignature = await tryRetrow(\n    async () => await web3.eth.sign(signedVerifierHash, address),\n    e => {\n      if (e.message === 'User denied message signature.') {\n        return new SigningDeniedException()\n      }\n      return e\n    }\n  )\n\n  const user = await asyncApiCall<any, UserDto | null>(\n    authIo,\n    'authenticate',\n    { signedVerifier, address, userSignature }\n  )\n\n  return user\n}\n\nexport async function signUp(\n  authIo: Socket,\n  web3: Web3,\n  wallet: Wallet,\n  email: string\n) {\n  const signedVerifier = await asyncApiCall<null, string>(authIo, 'verifier')  \n  const signedVerifierHash = web3.eth.accounts.hashMessage(signedVerifier)\n  const userSignature = await web3.eth.sign(signedVerifierHash, wallet.address)\n\n  const user = await asyncApiCall<any, UserDto>(\n    authIo,\n    'signUp',\n    { signedVerifier, userSignature, address: wallet.address, providerType: wallet.providerType, email }\n  )\n\n  return user\n}\n\nexport async function logOut(base: string) {\n  const res = await fetch(`${base}/logout`, {\n    method: 'POST',\n    credentials: 'include'\n  })\n  const apiResult = await res.json() as ApiResult<null>\n  return parseApiResult(apiResult)\n}\n\n","import { FunctionComponent, useEffect } from \"react\";\nimport { useMutation } from \"react-query\";\nimport { useCurrentUserDetails, useIos, useRest } from \"../../../contexts\";\nimport { Button } from \"../../style/button\";\nimport { P } from \"../../style/text\";\nimport GenericError from \"../GenericError\";\nimport LoadingRing from \"../LoadingRing\";\nimport * as authApi from \"../../../service/api/auth\";\n\nconst LogOut: FunctionComponent = () => {\n  const { base: restApiBase } = useRest()\n  const { nullCurrentUser } = useCurrentUserDetails()\n  const logOutMutation = useMutation(\n    () => authApi.logOut(restApiBase)\n  )\n\n  useEffect(() => {\n    if (logOutMutation.isSuccess) {\n      nullCurrentUser()\n    }\n  }, [logOutMutation.isSuccess])\n\n  if (logOutMutation.isLoading) {\n    return <>\n      <P>Logging you out...</P>\n      <LoadingRing />\n    </>\n  } else if (logOutMutation.isError) {\n    return <>\n      <GenericError error={logOutMutation.error}>\n        An error occured while logging out\n      </GenericError>\n      <Button onClick={() => logOutMutation.mutate()}>Try again</Button>\n    </>\n  } else if (logOutMutation.isSuccess) {\n    return <P>Successfully logged out.</P>\n  }\n  \n  return <form onSubmit={e => {\n    e.preventDefault()\n    logOutMutation.mutate()\n  }}>\n    <Button type=\"submit\">\n      Log out\n    </Button>\n  </form>\n}\n\nexport default LogOut\n","import BN from \"bn.js\"\n\nexport interface DepositDto {\n  uuid: string,\n  user: string,\n  amount: string,\n  timeCreated: number,\n  priceEther: string,\n  gasPrice: string,\n  ethTxHash: string | null,\n  isVerified: boolean\n}\n\nexport default class Deposit {\n  readonly uuid: string\n  readonly user: string\n  readonly amount: BN\n  readonly timeCreated: number\n  readonly priceEther: BN\n  readonly gasPrice: BN\n  readonly ethTxHash: string | null\n  readonly isVerified: boolean\n\n  constructor(\n    uuid: string,\n    user: string,\n    amount: BN,\n    timeCreated: number,\n    priceEther: BN,\n    gasPrice: BN,\n    ethTxHash: string | null,\n    isVerified: boolean\n  ) {\n    this.uuid = uuid\n    this.user = user\n    this.amount = amount\n    this.timeCreated = timeCreated\n    this.priceEther = priceEther\n    this.gasPrice = gasPrice\n    this.ethTxHash = ethTxHash\n    this.isVerified = isVerified\n  }\n\n  static fromDto(dto: DepositDto): Deposit {\n    return new Deposit(\n      dto.uuid,\n      dto.user,\n      new BN(dto.amount, 'hex'),\n      dto.timeCreated,\n      new BN(dto.priceEther, 'hex'),\n      new BN(dto.gasPrice, 'hex'),\n      dto.ethTxHash,\n      dto.isVerified\n    )\n  }\n}\n","import BN from \"bn.js\"\nimport { Socket } from \"socket.io-client\"\nimport { asyncApiCall } from \".\"\nimport Deposit, { DepositDto } from \"../model/Deposit\"\n\nexport async function createDeposit(\n  depositIo: Socket,\n  amount: BN\n) {\n  return Deposit.fromDto(await asyncApiCall<any, DepositDto>(\n    depositIo,\n    'create',\n    { amount }\n  ))\n}\n\nexport async function setDepositEthTxHash(\n  depositIo: Socket,\n  deposit: Deposit,\n  ethTxHash: string\n) {\n  return Deposit.fromDto(await asyncApiCall<any, DepositDto>(\n    depositIo,\n    'setEthTxHash',\n    { uuid: deposit.uuid, ethTxHash }\n  ))\n}\n\nexport async function verifyDeposit(\n  depositIo: Socket,\n  deposit: Deposit\n) {\n  return Deposit.fromDto(await asyncApiCall<any, DepositDto>(\n    depositIo,\n    'verify',\n    { uuid: deposit.uuid }\n  ))\n}\n\nexport async function getMyDeposits(\n  depositIo: Socket\n) {\n  return (await asyncApiCall<any, DepositDto[]>(\n    depositIo,\n    'getMine',\n    {}\n  )).map(Deposit.fromDto)\n}\n\nexport async function getMyPaidDeposits(\n  depositIo: Socket\n) {\n  return (await asyncApiCall<any, DepositDto[]>(\n    depositIo,\n    'getMinePaid',\n    {}\n  )).map(Deposit.fromDto)\n}\n","import BN from \"bn.js\"\n\nexport const weiToEtherStr = (wei: BN) => (wei.div(new BN('1000000000')).toNumber() / 1000000000).toString()\nexport const weiToGweiStr = (wei: BN) => (wei.toNumber() / 1000000000).toString()\n","export type ChainId = keyof typeof web3networks\n\nexport const web3networks = {\n  1: {\n    name: \"Ethereum\",\n    explorerTx: \"https://etherscan.io/tx\",\n    explorerAddress: \"https://etherscan.io/address\"\n  },\n  3: {\n    name: \"Ethereum (ropsten)\",\n    explorerTx: \"https://ropsten.etherscan.io/tx\",\n    explorerAddress: \"https://ropsten.etherscan.io/address\"\n  },\n  4: {\n    name: \"Ethereum (rinkeby)\",\n    explorerTx: \"https://rinkeby.etherscan.io/tx\",\n    explorerAddress: \"https://rinkeby.etherscan.io/address\"\n  },\n  5: {\n    name: \"Ethereum (goerli)\",\n    explorerTx: \"https://blockscout.com/eth/goerli/tx\",\n    explorerAddress: \"https://blockscout.com/eth/goerli/address\"\n  },\n  42: {\n    name: \"Ethereum (kovan)\",\n    explorerTx: \"https://blockscout.com/eth/kovan/tx\",\n    explorerAddress: \"https://blockscout.com/eth/kovan/address\"\n  }\n}\n\nexport function txHashToExplorerUrl(chainId: ChainId, txHash: string) {\n  const networkInfo = web3networks[chainId]\n  return `${networkInfo.explorerTx}/${txHash}`\n}\n","import BN from \"bn.js\";\nimport trimEnd from \"lodash/trimEnd\";\n\nexport const AMOUNT_TO_FRACTIONLESS_FACTOR = 100 // amount 824.12 euro * 100 = 82412 fractionless euro\n\nconst replaceAll = (needle: string, str: string, replacement = '') => str.split(needle).join(replacement)\n\nexport const amountToFractionlessFactorBn = new BN(AMOUNT_TO_FRACTIONLESS_FACTOR)\nconst decimalSeperatorRegex = /[\\.\\,]/g\nconst nonNumericRegex = /[^$,.\\d]/\nconst containsNonNumerics = (string: string) => string.match(nonNumericRegex) !== null\nexport const browserDecimalSeparator = (1.1).toLocaleString().substring(1, 2)\n\nexport function fractionlessToString(number: BN) {\n  const integerPart = number.div(amountToFractionlessFactorBn)\n  const fractionalPart = number.sub(integerPart.mul(amountToFractionlessFactorBn))\n  const integerPartStr = integerPart.toString(10)\n  const fractionalPartStr = trimEnd(fractionalPart.toString(10), '0')\n  if (fractionalPart.isZero()) {\n    return integerPartStr\n  } else {\n    return integerPartStr + browserDecimalSeparator + fractionalPartStr\n  }\n}\n\nexport class NumberFormatException extends Error {\n  constructor(message: string) {\n    super(message)\n    this.name = 'NumberFormatException'\n  }\n}\n\nexport class TooManyDecimalSeperatorsException extends NumberFormatException {\n  constructor(message: string) {\n    super(message)\n    this.name = 'TooManyDecimalSeperatorsException'\n  }\n}\n\nexport class InvalidCharacterException extends NumberFormatException {\n  constructor(message: string) {\n    super(message)\n    this.name = 'InvalidCharacterException'\n  }\n}\n\nexport function fractionlessNumberFromString(\n  string: string,\n  decimalSeperator = browserDecimalSeparator\n) {\n  if (string.length === 0) return null\n  const numberParts = string.split(decimalSeperator)\n  if (numberParts.length > 2) throw new TooManyDecimalSeperatorsException(`Found ${numberParts.length+1} decimal seperators (${decimalSeperator}). Only one is allowed.`)\n  const integerPartStr =  numberParts[0].replace(decimalSeperatorRegex, '')\n  if (containsNonNumerics(integerPartStr)) throw new TooManyDecimalSeperatorsException(`Integer part contains an invalid character`)\n  const integerPart = new BN(integerPartStr, 10).mul(amountToFractionlessFactorBn)\n  \n  if (numberParts.length === 1) return integerPart\n\n  const fractionalPartStr = numberParts[1].replace(decimalSeperatorRegex, '')\n  if (containsNonNumerics(fractionalPartStr)) throw new TooManyDecimalSeperatorsException(`Fractional part contains an invalid character`)\n  const fractionalPart = new BN(fractionalPartStr, 10)\n  return integerPart.add(fractionalPart)\n}\n","import { faCheck, faTimes } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React, { FunctionComponent } from \"react\";\nimport { useTheme } from \"styled-components\";\nimport { CHAIN_ID } from \"../../constants\";\nimport { txHashToExplorerUrl } from \"../../service/eth/networks\";\nimport { weiToEtherStr, weiToGweiStr } from \"../../service/eth/util\";\nimport Deposit from \"../../service/model/Deposit\";\nimport { fractionlessToString } from \"../../service/number\";\nimport { Button } from \"../style/button\";\nimport { H2, MonoData, P, Pre, PreItalic, SpanItalic } from \"../style/text\";\n\nconst DepositDetails: FunctionComponent<{\n  deposit: Deposit,\n  onLaunchVerification: () => void\n}> = ({ deposit, onLaunchVerification }) => {\n  const theme = useTheme()\n\n  return <>\n    <H2>Deposit</H2>\n    <P>\n      Amount: <MonoData>{fractionlessToString(deposit.amount)}</MonoData><br/>\n      Creation time: <MonoData>{(new Date(deposit.timeCreated*1000)).toLocaleString()}</MonoData><br/>\n      Deposit price (Ether): <MonoData>{weiToEtherStr(deposit.priceEther)}</MonoData><br/>\n      Gas price (Gwei): <MonoData>{weiToGweiStr(deposit.gasPrice)}</MonoData><br/>\n      Transaction hash: {deposit.ethTxHash == null\n        ? <SpanItalic>Not yet created</SpanItalic>\n        : <>\n          <MonoData>{deposit.ethTxHash}</MonoData>{' '}\n          (<a\n            href={txHashToExplorerUrl(CHAIN_ID, deposit.ethTxHash)}\n            target=\"_blank\" rel=\"noreferrer\">\n            View on etherscan\n          </a>)\n        </>\n      } <br/>\n      Verified: {deposit.isVerified\n        ? <FontAwesomeIcon icon={faCheck} color={theme.color.success} />\n        : <FontAwesomeIcon icon={faTimes} color={theme.color.error} />\n      } <br/>\n      UUID: <MonoData>{deposit.uuid}</MonoData>\n    </P>\n    {!deposit.isVerified\n       ? <Button onClick={() => onLaunchVerification()}>Verify</Button>\n       : ''\n    }\n  </>\n}\n\nexport default DepositDetails\n","import type { ChainId } from \"./service/eth/networks\"\n\nexport const ETHER_TO_ADDRESS = '0x9306DEF3aE932e4959a725Cd3B4f323435265d5c'\nexport const CHAIN_ID: ChainId = 4\nexport const MINIMUM_CONFIRMATIONS = 5\n","import styled, { css } from \"styled-components\"\nimport { BaseText } from \"./base\"\n\nexport const Table = styled.table`\n  ${BaseText}\n  border-collapse: collapse;\n`\n\nconst thTdCommon = css`\n  padding: 0.7em 0.6em;\n`\n\nexport const Th = styled.th`\n  ${thTdCommon}\n\n  border-right: 1px solid white;\n\n  &:last-child {\n    border-right: none;\n  }\n`\n\nexport const Tr = styled.tr`\n  ${thTdCommon}\n  border-bottom: 1px solid white;\n\n  &:last-child {\n    border-bottom: none;\n  }\n`\n\nexport const TrHead = styled(Tr)`\n  border-bottom: 1px solid white;\n\n  &:last-child {\n    border-bottom: 1px solid white;\n  }\n`\n\nexport const Td = styled.td`\n  ${thTdCommon}\n  border-right: 1px solid white;\n\n  &:last-child {\n    border-right: none;\n  }\n`\n\nexport const TdAlignRight = styled(Td)`\n  text-align: right;\n`\nexport const TdItalic = styled(Td)`\n  font-style: italic;\n`\n\nexport const TdIconContainer =styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`\n","import ReactModal from \"react-modal\";\nimport { DefaultTheme } from \"styled-components\";\n\nexport const modalStyle = (theme: DefaultTheme) => ({\n  content: {\n    backgroundColor: theme.color.background,\n    position: 'relative',\n    inset: 'unset',\n    maxWidth: '40rem'\n  },\n  overlay: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center'\n  }\n} as ReactModal.Styles)\n","import { Children, FunctionComponent } from \"react\"\nimport styled from \"styled-components\";\n\nconst SlidesContCont = styled.div`\n  overflow: hidden;\n  width: 100%;\n`\n\nconst SlidesCont = styled.div`\n  display: flex;\n  flex-direction: row;\n  margin: 0;\n  padding: 0;\n  transform: 'translateZ(0)';\n`\n\nconst Step: FunctionComponent<{\n  numberOfSteps: number,\n  index: number\n}> = ({\n  children,\n  numberOfSteps,\n  index\n}) => {\n  const transition = (duration = '1', items = 'all') => `${items} ${duration}s cubic-bezier(0.23, 1, 0.32, 1)`;\n\n  return (\n    <div className=\"Step\" style={{\n      width: `${100 / numberOfSteps}%`,\n      transition: transition()\n    }}>\n      {children}\n    </div>\n  )\n}\n\ntype CarouselProps = {\n  currentIndex: number\n}\n\nconst Carousel: FunctionComponent<CarouselProps> = ({children, currentIndex}) => {\n  if (children == null) throw new Error(\"Carousel must have children\")\n  if (currentIndex < 0) throw new Error(\"Carousel index must be greater than or equal to 0\")\n  if (currentIndex >= Children.count(children)) throw new Error(\"Carousel index must be smaller than the number of children\")\n\n  // const transition = (duration = '1', items = 'all') => `${items} ${duration}s cubic-bezier(0.23, 1, 0.32, 1)`;\n\n  return (<SlidesContCont>\n    <SlidesCont style={{\n      width: `${Children.count(children) * 100}%`,\n      marginLeft: `-${currentIndex * 100}%`\n    }}>\n      {Children.map(children, (child, index) => (\n        <Step key={index} index={index} numberOfSteps={Children.count(children)}>\n          {child}\n        </Step>\n      ))}\n    </SlidesCont>\n  </SlidesContCont>)\n}\n\nexport default Carousel\n","import React, { FunctionComponent } from \"react\";\nimport { weiToEtherStr } from \"../../../service/eth/util\";\nimport Deposit from \"../../../service/model/Deposit\";\nimport { fractionlessToString } from \"../../../service/number\";\nimport { Button } from \"../../style/button\";\nimport { A, H2, P } from \"../../style/text\";\nimport ErrorContactInfo from \"../ErrorContactInfo\";\n\nconst SuccessSlide: FunctionComponent<{\n  deposit: Deposit,\n  onClose: () => void\n}> = ({ deposit, onClose }) => {\n  return <>\n    <H2>Congratulations!</H2>\n    <P>\n      The {weiToEtherStr(deposit.priceEther)} Ether deposit for your €{fractionlessToString(deposit.amount)} investment was successful.\n    </P>\n    <P>\n      You will receive an email from us confirming the deposit.\n    </P>\n    <P>\n      Do not hesitate to <A href=\"mailto:info@artvalue.org\">contact us</A> at if you have any other questions.\n    </P>\n\n    <Button onClick={() => onClose()}>Continue</Button>\n  </>\n}\n\nexport default SuccessSlide\n","import React, { FunctionComponent, useEffect, useState } from \"react\";\nimport { useQuery } from \"react-query\";\nimport { useIos } from \"../../../contexts\";\nimport { verifyDeposit } from \"../../../service/api/deposit\";\nimport Deposit from \"../../../service/model/Deposit\";\nimport { errorToString } from \"../../../util\";\nimport { Button } from \"../../style/button\";\nimport { ErrorP } from \"../../style/error\";\nimport { H2, P } from \"../../style/text\";\nimport GenericError from \"../GenericError\";\nimport LoadingRing from \"../LoadingRing\";\n\nconst VerifyDepositSlide: FunctionComponent<{\n  deposit: Deposit,\n  onVerified: (deposit: Deposit) => void\n}> = ({ deposit, onVerified }) => {\n  const { deposit: depositIo } = useIos()\n  const [callbackCalled, setCallbackCalled] = useState(false)\n  const qDepositVerification = useQuery(\n    ['deposit', 'verify', deposit.uuid],\n    () => verifyDeposit(depositIo, deposit)\n  )\n\n  useEffect(() => {\n    if (!callbackCalled && qDepositVerification.isSuccess) {\n      setCallbackCalled(true)\n      onVerified(qDepositVerification.data!!)\n    }\n  }, [qDepositVerification.isSuccess])\n\n  return <>\n    <H2>Verify deposit</H2>\n    {(() => {\n      if (qDepositVerification.isLoading) {\n        return <>\n          <P>Verifying your deposit...</P>\n          <P>\n            This can take up to 10 minutes.\n            You can check back later in your profile.\n          </P>\n          <LoadingRing />\n        </>\n      } else if (qDepositVerification.isError) {\n        return <>\n          <GenericError error={qDepositVerification.error}>\n            An error occured while trying to verify the deposit\n          </GenericError>\n          <P>\n            It is possible that the server and your browser are slightly out of sync.\n            You can try verifying the deposit later by going to \"My profile\".\n          </P>\n          <Button onClick={() =>qDepositVerification.refetch()}>Try again</Button>\n        </>\n      }\n\n      return <>\n        <P>Verification successful</P>\n        <Button onClick={() => onVerified(qDepositVerification.data!!)}>\n          Continue\n        </Button>\n      </>\n    })()}\n  </>\n}\n\nexport default VerifyDepositSlide\n","import React from \"react\";\nimport { useEffect } from \"react\";\nimport { FunctionComponent, useState } from \"react\";\nimport { useQuery } from \"react-query\";\nimport Web3 from \"web3\";\nimport { PromiEvent, Transaction } from \"web3-core\";\nimport { MINIMUM_CONFIRMATIONS } from \"../../../constants\";\nimport { ChainId, txHashToExplorerUrl } from \"../../../service/eth/networks\";\nimport { EthPaymentTxResult } from \"../../../service/eth/pay\";\nimport Deposit from \"../../../service/model/Deposit\";\nimport { Button } from \"../../style/button\";\nimport { ErrorP } from \"../../style/error\";\nimport { A, H2, P, StrongNumber } from \"../../style/text\";\nimport Loading from \"../Loading\";\nimport LoadingRing from \"../LoadingRing\";\nimport { TransactionReceipt } from \"web3-core\";\nimport { setTokenSourceMapRange } from \"typescript\";\nimport GenericError from \"../GenericError\";\n\nconst RECHECK_TIMEOUT = 2000\n\nclass NotConfirmedYetSignal {\n  confirmations: number;\n\n  constructor(confirmations: number) {\n    this.confirmations = confirmations\n  }\n}\n\nconst ConfirmEthTxSlide: FunctionComponent<{\n  web3: Web3,\n  chainId: ChainId,\n  txReceipt: TransactionReceipt,\n  onTransactionConfirmed: () => void\n}> = ({ web3, chainId, txReceipt, onTransactionConfirmed }) => {\n  const [callbackCalled, setCallbackCalled] = useState(false)\n  const [confirmations, setConfirmations] = useState(0)\n  const qBlockNumber = useQuery(\n    ['web3', web3.eth.getBlockNumber.name],\n    async () => {\n      const blockNumber = await web3.eth.getBlockNumber()\n      const newConfirmations = blockNumber - txReceipt.blockNumber\n      setConfirmations(newConfirmations)\n      if (newConfirmations <= MINIMUM_CONFIRMATIONS) {\n        throw new NotConfirmedYetSignal(newConfirmations)\n      }\n      return newConfirmations\n    },\n    {\n      retry: (_, error) => {\n        if (error instanceof NotConfirmedYetSignal) {\n          return true\n        }\n        return false\n      },\n      retryDelay: 1000\n    }\n  )\n\n  useEffect(() => {\n    if (!callbackCalled && confirmations >= MINIMUM_CONFIRMATIONS) {\n      setCallbackCalled(true)\n      onTransactionConfirmed()\n    }\n  }, [confirmations])\n\n  return <>\n    <H2>Confirm transaction</H2>\n    {(() => {\n      if (qBlockNumber.isError) {\n        return <>\n          <GenericError error={qBlockNumber.error}>\n            An error occured while confirming the transaction\n          </GenericError>\n          <Button onClick={() => qBlockNumber.refetch()}>Try again</Button>\n        </>\n      }\n\n      if (confirmations < MINIMUM_CONFIRMATIONS) {\n        return <>\n          <P>Waiting for at least {MINIMUM_CONFIRMATIONS} confirmations...</P>\n          <P>\n            This can take up to 10 minutes.\n            You can safely close this window and come back later to the \"My Profile\" page to finish the deposit validation.<br/>\n            <A href={txHashToExplorerUrl(chainId, txReceipt.transactionHash)} target=\"_blank\">\n              View this transaction on Etherscan\n            </A>\n          </P>\n          <P><StrongNumber>{confirmations}</StrongNumber>/{MINIMUM_CONFIRMATIONS} confirmations</P>\n          <LoadingRing />\n        </>\n      }\n\n      return (<>\n        <P>Transaction confirmed!</P>\n        <Button\n          onClick={() => onTransactionConfirmed()}>\n          Continue\n        </Button>\n      </>)\n\n    })()}\n  </>\n}\n\nexport default ConfirmEthTxSlide\n","import detectEthereumProvider from '@metamask/detect-provider';\nimport { provider as Provider } from \"web3-core\";\nimport { ProviderType } from \"./ProviderType\";\nimport Portis from \"@portis/web3\"\n\nexport class BrowserWalletNotFoundException extends Error {\n  constructor(message?: string) {\n    super(message)\n    this.name = 'BrowserWalletNotFoundException'\n  }\n}\n\nexport async function createProvider(providerType: ProviderType) {\n  if (providerType === 'portis') return createPortisProvider()\n  else if (providerType === 'browser') return await createBrowserProvider()\n  else throw Error('Unknown ProviderType')\n}\n\nexport function createPortisProvider() {\n  return new Portis(\n    `79582b9a-9e5b-4ae6-b7ec-643a28136c09`,\n    `rinkeby`, { scope: ['email'] }\n  ).provider as Provider\n}\n\nexport async function createBrowserProvider(): Promise<Provider> {\n  const provider = (await detectEthereumProvider({\n    silent: true,\n    timeout: 2000\n  })) as Provider | null\n  if (provider === null) throw new BrowserWalletNotFoundException()\n  await (provider as any).request({ method: 'eth_requestAccounts' });\n  return provider\n}\n","import React, { Children, FunctionComponent } from \"react\";\nimport styled from \"styled-components\";\nimport { P } from \"../style/text\";\nimport LoadingRing from \"./LoadingRing\";\n\nconst LoadingRingContainer = styled.div`\n  justify-content: center;\n  display: flex;\n  margin: 2rem 2rem;\n`\n\nconst Loading: FunctionComponent<{}> = ({ children }) => {\n  const childCount = Children.count(children)\n  if (childCount <= 0) {\n    throw new Error('Loading components must have at least one child')\n  }\n  return <div>\n    {children},\n    <LoadingRingContainer><LoadingRing /></LoadingRingContainer>\n  </div>\n}\n\nexport default Loading\n","import styled from \"styled-components\";\nimport { BaseText } from \"./base\";\n\nexport const Label = styled.label`\n  ${BaseText}\n  font-size: 14pt;\n  max-width: 70%;\n  display: block;\n`\n\nexport const Input = styled.input`\n  ${BaseText}\n  background-color: transparent;\n  border: 0.13rem solid ${p => p.theme.color.border};\n  padding: 0.5rem;\n  display: block;\n  width: 100%;\n  margin-top: 0.5rem;\n`\n","import React, { FunctionComponent, useState } from \"react\"\nimport { useWallets } from \"../../../contexts\"\nimport Wallet from \"../../../service/eth/Wallet\"\nimport { Button } from \"../../style/button\"\nimport { Label } from \"../../style/form\"\nimport { P } from \"../../style/text\"\n\nconst SelectExistingWalletForm: FunctionComponent<{\n  onWalletSelected: (wallet: Wallet) => void\n}> = ({ onWalletSelected }) => {\n  const { wallets: walletsSet, setWallets } = useWallets()\n  const wallets = Array.from(walletsSet)\n  const firstWallet = wallets[0]\n  const [chosenWallet, setChosenWallet] = useState(firstWallet)\n\n  if (wallets.length === 0) {\n    return (<P>No wallets to choose from</P>)\n  }  else {\n    return (<form onSubmit={e => {\n      e.preventDefault()\n      setWallets(currentWallets => new Set([...currentWallets, chosenWallet]))\n      onWalletSelected(chosenWallet)\n    }}>\n      {wallets.map(wallet => {\n        const key = wallet.providerType + wallet.address\n        return (<Label key={key}>\n          <input\n            type=\"radio\"\n            name=\"account\"\n            value={wallet.providerType + wallet.address}\n            defaultChecked={wallet === firstWallet}\n            onChange={() => setChosenWallet(wallet)} />\n          {wallet.providerType}: {wallet.address}\n        </Label>)\n      })}\n      <Button type=\"submit\" value=\"portis\">\n        Use this address\n      </Button>\n    </form>)\n  }\n}\n\nexport default SelectExistingWalletForm\n","import React, { FunctionComponent, useState } from \"react\";\nimport { Button } from \"../../style/button\";\nimport { Label } from \"../../style/form\";\nimport { P } from \"../../style/text\";\nimport styled from \"styled-components\";\n\nconst UseAddressButton = styled(Button)`\n  margin-top: 2rem;\n`\n\nconst SelectNewWalletAddressForm: FunctionComponent<{\n  addresses: string[],\n  onAddressSelected: (address: string) => void\n}> = ({ addresses, onAddressSelected }) => {\n  const firstAddress = addresses[0]\n  const [selectedAddress, setSelectedAddress] = useState(firstAddress)\n  if (firstAddress == null) return (<>\n    <P>\n      No wallets found, initialize your selected provider \n      with an Ethereum wallet and try again.\n    </P>\n  </>)\n  return (<form onSubmit={e => {\n    e.preventDefault()\n    onAddressSelected(selectedAddress)\n  }}>\n    {addresses.map((address) => (\n      <Label key={address}>\n        <input\n          type=\"radio\"\n          name=\"account\"\n          value={address}\n          defaultChecked={address === firstAddress}\n          onChange={() => setSelectedAddress(address)} />\n        {address}\n      </Label>\n    ))}\n    <UseAddressButton type=\"submit\" value=\"portis\">\n      Use this address\n    </UseAddressButton>\n  </form>)\n}\n\nexport default SelectNewWalletAddressForm\n","import React, { FunctionComponent, useState } from \"react\";\nimport { useQuery } from \"react-query\";\nimport styled from \"styled-components\";\nimport Web3 from \"web3\";\nimport { useWallets } from \"../../../contexts\";\nimport { createProvider, BrowserWalletNotFoundException } from \"../../../service/eth/providers\";\nimport { ProviderType } from \"../../../service/eth/ProviderType\";\nimport Wallet from \"../../../service/eth/Wallet\";\nimport { Button } from \"../../style/button\";\nimport { ErrorP } from \"../../style/error\";\nimport { A, H2, H3, P } from \"../../style/text\";\nimport Loading from \"../Loading\";\nimport LoadingRing from \"../LoadingRing\";\nimport SelectExistingWalletForm from \"./SelectExistingWalletForm\";\nimport SelectNewWalletAddressForm from \"./SelectNewWalletAddressForm\";\n\nconst WalletButton = styled.button`\n  width: 5rem;\n  padding: 0;\n  background: none;\n  border: none;\n  cursor: pointer;\n  background-color: #f0f0f0;\n  border-radius: 4px;\n  width: 5rem;\n  height: 3rem;\n  padding: 0.5em;\n  margin-right: 0.5rem;\n\n  > img {\n    max-width: 100%;\n    max-height: 100%;\n    /* fill: ; */\n    padding: 0;\n    margin: 0;\n  }\n`\n\nconst SelectWalletSlide: FunctionComponent<{\n  onWalletSelected: (wallet: Wallet) => void\n}> = ({ onWalletSelected, children }) => {\n  if (children == null) throw new Error(\"SelectWalletSlide must have children\")\n  \n  const { wallets: walletsSet, setWallets } = useWallets()\n  const wallets = Array.from(walletsSet.values())\n  const [newWalletProviderType, setNewWalletProviderType] = useState<ProviderType | null>(null)\n  const qNewWalletProvider = useQuery(\n    ['provider', newWalletProviderType],\n    () => createProvider(newWalletProviderType!!),\n    { enabled: newWalletProviderType != null, retry: false }\n  )\n  const web3 = qNewWalletProvider.data == null ? null : new Web3(qNewWalletProvider.data)\n  const qAccounts = useQuery(\n    ['provider', newWalletProviderType, 'account'],\n    () => web3!!.eth.getAccounts(),\n    { enabled: web3 != null }\n  )\n\n  const handlePortisClick = () => setNewWalletProviderType('portis')\n  const handleBrowserWalletClick = () => setNewWalletProviderType('browser')\n  const handleSelectDifferent = () => setNewWalletProviderType(null)\n\n  return (<>\n    <H2>{children}</H2>\n    {wallets.length > 0\n      ? <>\n        <H3>Choose an existing wallet</H3>\n        <SelectExistingWalletForm onWalletSelected={onWalletSelected} />\n      </>\n      : <P>You don't have any existing wallets</P>\n    }\n    <H3>Connect a new wallet</H3>\n    {newWalletProviderType == null\n      ? <form onSubmit={e => e.preventDefault()}>\n        <WalletButton type=\"submit\" value=\"portis\" onClick={handlePortisClick}>\n          <img src={process.env.PUBLIC_URL + '/icon/portis.png'} alt=\"Portis\" />\n        </WalletButton>\n        <WalletButton type=\"submit\" value=\"crypto\" onClick={handleBrowserWalletClick}>\n          <img src={process.env.PUBLIC_URL + '/icon/metamask.svg'} alt=\"Metamask\" />\n        </WalletButton>\n        <WalletButton type=\"submit\" value=\"crypto\" onClick={handleBrowserWalletClick}>\n        <img src={process.env.PUBLIC_URL + '/icon/globe.svg'} alt=\"Other browser wallet\" />\n        </WalletButton>\n      </form>\n      : <>\n        {qNewWalletProvider.isLoading\n          ? <>\n            <P>Loading provider…</P>\n            <LoadingRing />\n          </>\n          : qNewWalletProvider.isError\n            ? <ErrorP>\n              Error loading provider: <br/>\n              {qNewWalletProvider.error instanceof BrowserWalletNotFoundException\n                ? <span>\n                  Browser wallet could not be found, try {' '}\n                  <A target=\"_blank\" href=\"https://metamask.io/\">installing metamask</A> \n                  {' '} and reloading the page.\n                </span>\n                : String(qNewWalletProvider.error)\n              }\n            </ErrorP>\n            : qAccounts.isLoading\n              ? <Loading><P>\n                Loading accounts for {newWalletProviderType}…\n              </P></Loading>\n              : qAccounts.isError\n                ? <ErrorP>\n                  Error loading accounts: {String(qNewWalletProvider.error)}\n                </ErrorP>\n                : <SelectNewWalletAddressForm \n                  addresses={qAccounts.data!!}\n                  onAddressSelected={address => {\n                    setNewWalletProviderType(null)\n                    const wallet: Wallet = {\n                      providerType: newWalletProviderType,\n                      provider: qNewWalletProvider.data!!,\n                      address\n                    }\n                    setWallets((currentWallets: Set<Wallet>) => new Set([...currentWallets, wallet]))\n                    onWalletSelected(wallet)\n                  }} />\n        }\n        <Button onClick={handleSelectDifferent}>\n          Use a different provider\n        </Button>\n      </>\n    }\n  </>)\n}\n\nexport default SelectWalletSlide\n","import { FunctionComponent, useEffect, useState } from \"react\";\nimport { useQuery } from \"react-query\";\nimport Web3 from \"web3\";\nimport Wallet from \"../../../service/eth/Wallet\";\nimport Deposit from \"../../../service/model/Deposit\";\nimport { errorToString } from \"../../../util\";\nimport { Button } from \"../../style/button\";\nimport { ErrorP } from \"../../style/error\";\nimport { H2, P } from \"../../style/text\";\nimport Loading from \"../Loading\";\nimport { TransactionReceipt } from \"web3-core\";\nimport GenericError from \"../GenericError\";\n\nconst GetEthTxReceipt: FunctionComponent<{\n  wallet: Wallet,\n  deposit: Deposit,\n  onGotEthTxReceipt: (receipt: TransactionReceipt) => void\n}> = ({ wallet, deposit, onGotEthTxReceipt }) => {\n  const ethTxHash = deposit.ethTxHash\n  if (ethTxHash == null) {\n    throw new Error('GetTransactionReceipt requires a paid deposit')\n  }\n  const web3 = new Web3(wallet.provider)\n  const qEthTx = useQuery(\n    ['web3', web3.eth.getTransactionReceipt.name, ethTxHash],\n    () => web3.eth.getTransactionReceipt(ethTxHash)\n  )\n  const [callbackCalled, setCallbackCalled] = useState(false)\n\n  useEffect(() => {\n    if (!callbackCalled && qEthTx.isSuccess) {\n      setCallbackCalled(true)\n      onGotEthTxReceipt(qEthTx.data!!)\n    }\n  }, [qEthTx.isSuccess])\n\n  return <>\n    <H2>Retrieve transaction info</H2>\n    {(() => {\n      if (qEthTx.isLoading) {\n        return <Loading><P>Retrieving transaction info...</P></Loading>\n      }\n\n      if (qEthTx.isError) {\n        return <>\n          <GenericError error={qEthTx.error}>\n            An error occured while retrieving the transaction info\n          </GenericError>\n          <Button onClick={() => qEthTx.refetch()}>Try again</Button>\n        </>\n      }\n\n      return (<>\n        <P>Got transaction info!</P>\n        <Button\n          onClick={() => onGotEthTxReceipt(qEthTx.data!!)}>\n          Continue\n        </Button>\n      </>)\n\n    })()}\n  </>\n}\n\nexport default GetEthTxReceipt\n","import React, { FunctionComponent, useState } from \"react\";\nimport Web3 from \"web3\";\nimport { ChainId } from \"../../../service/eth/networks\";\nimport Deposit from \"../../../service/model/Deposit\";\nimport Carousel from \"../Carousel\";\nimport SuccessSlide from \"./SuccessSlide\";\nimport VerifyDepositSlide from \"./VerifyDepositSlide\";\nimport ConfirmEthTxSlide from \"./ConfirmEthTxSlide\";\nimport { TransactionReceipt } from \"web3-core\";\nimport SelectWalletSlide from \"../wallet/SelectWalletSlide\";\nimport Wallet from \"../../../service/eth/Wallet\";\nimport GetEthTxReceipt from \"./GetEthTxReceipt\";\n\nconst ConfirmAndVerifyDepositSlides: FunctionComponent<{\n  chainId: ChainId,\n  deposit: Deposit,\n  onVerified: (deposite: Deposit) => void\n}> = ({ deposit, onVerified, chainId }) => {\n  const [selectedWallet, setSelectedWallet] = useState<Wallet | null>(null)\n  const [ethTxReceipt, setEthTxReceipt] = useState<TransactionReceipt | null>(null)\n  const [carouselIndex, setCarouselIndex] = useState(0)\n  const [hasConfirmedEthTx, setHasConfirmedEthTx] = useState(false)\n  const [verifiedDeposit, setVerifiedDeposit] = useState<Deposit | null>(null)\n\n  return <Carousel currentIndex={carouselIndex}>{[\n    <SelectWalletSlide\n      key={SelectWalletSlide.name}\n      onWalletSelected={wallet => {\n        setSelectedWallet(wallet)\n        setCarouselIndex(old => Math.max(old, 1))\n      }}>\n      Select wallet to confirm transaction\n    </SelectWalletSlide>,\n    ...(selectedWallet != null\n      ? [\n        <GetEthTxReceipt\n          key={GetEthTxReceipt.name}\n          deposit={deposit}\n          wallet={selectedWallet}\n          onGotEthTxReceipt={receipt => {\n            setEthTxReceipt(receipt)\n            setCarouselIndex(old => Math.max(old, 2))\n          }} />,\n        ...(ethTxReceipt != null\n          ? [\n            <ConfirmEthTxSlide\n              key={ConfirmEthTxSlide.name}\n              web3={new Web3(selectedWallet.provider)}\n              chainId={chainId}\n              txReceipt={ethTxReceipt}\n              onTransactionConfirmed={() => {\n                setHasConfirmedEthTx(true)\n                setCarouselIndex(old => Math.max(old, 3))\n              }} />,\n            ...(hasConfirmedEthTx\n              ? [\n                <VerifyDepositSlide\n                  key={VerifyDepositSlide.name}\n                  deposit={deposit}\n                  onVerified={verifiedDeposit => {\n                    setVerifiedDeposit(verifiedDeposit)\n                    setCarouselIndex(old => Math.max(old, 4))\n                  }} />,\n                ...(verifiedDeposit != null\n                  ? [\n                    <SuccessSlide\n                      key={SuccessSlide.name}\n                      deposit={deposit}\n                      onClose={() => onVerified(verifiedDeposit)} />\n                  ]\n                  : []\n                )\n              ]\n              : []\n            )\n          ]\n          : []\n        )\n      ]\n      : []\n    )\n  ]}</Carousel>\n}\n\nexport default ConfirmAndVerifyDepositSlides\n","import { faCheck, faInfoCircle, faTimes } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React, { FunctionComponent, useState } from \"react\";\nimport { useQuery } from \"react-query\";\nimport styled, { useTheme } from \"styled-components\";\nimport { useCurrentUserDetails, useIos } from \"../../contexts\";\nimport { getMyDeposits, getMyPaidDeposits } from \"../../service/api/deposit\";\nimport { weiToEtherStr, weiToGweiStr } from \"../../service/eth/util\";\nimport Deposit from \"../../service/model/Deposit\";\nimport LoadingRing from \"./LoadingRing\";\nimport Modal from 'react-modal';\nimport DepositDetails from \"./DepositDetails\";\nimport { Button } from \"../style/button\";\nimport { ErrorP } from \"../style/error\";\nimport { Table, Th, TdAlignRight, Td, TdItalic, TdIconContainer, Tr, TrHead } from \"../style/table\";\nimport { A, P } from \"../style/text\";\nimport { CHAIN_ID } from \"../../constants\";\nimport { txHashToExplorerUrl } from \"../../service/eth/networks\";\nimport { modalStyle } from \"../style/modal\";\nimport VerifyDepositSlide from \"./purchase/VerifyDepositSlide\";\nimport Carousel from \"./Carousel\";\nimport ConfirmAndVerifyDepositSlides from \"./purchase/ConfirmAndVerifyDepositSlides\";\nimport ErrorContactInfo from \"./ErrorContactInfo\";\nimport GenericError from \"./GenericError\";\nimport { fractionlessToString } from \"../../service/number\";\n\nconst DepositDetailsButton = styled.button`\n  background: none;\n  border: none;\n  cursor: pointer;\n  width: 100%;\n  height: 100%;\n  padding: 0.4rem 0;\n  margin: 0;\n`\n\nconst DepositsTable: FunctionComponent<{}> = () => {\n  const { deposit: depositIo } = useIos()\n  const [currentDepositDetails, setCurrentDepositDetails] = useState<Deposit | null>(null)\n  const [showVerifyDepositModal, setShowVerifyDepositModal] = useState(false)\n  const { currentUser, launchLoginModal } = useCurrentUserDetails()\n  const qDeposits = useQuery(\n    ['deposits', getMyPaidDeposits.name],\n    () => getMyPaidDeposits(depositIo),\n    {\n      enabled: currentUser != null\n    }\n  )\n  const theme = useTheme()\n\n  if (qDeposits.isLoading) {\n    return <>\n      <P>Loading deposits...</P>\n      <LoadingRing />\n    </>\n  }\n\n  if (qDeposits.isError) {\n    return <>\n      <GenericError error={qDeposits.error}>\n        An error occured while trying to fetch your deposits\n      </GenericError>\n      <button onClick={() => qDeposits.refetch()}>Try again</button>\n    </>\n  }\n\n  const handleLaunchVerification = () => {\n    setShowVerifyDepositModal(true)\n  }\n\n  const closeDepositDetailsModal = () => {\n    setCurrentDepositDetails(null)\n  }\n\n  if (qDeposits.isSuccess) {\n    return (<>\n      <P>\n        To verify an unverified transaction (<FontAwesomeIcon icon={faTimes} color={theme.color.error} />),\n        click on the <FontAwesomeIcon icon={faInfoCircle} color=\"#fff\" /> icon.\n      </P>\n      {qDeposits.data!!.length > 0\n        ? <Table>\n          <thead>\n            <TrHead>\n              <Th>Amount</Th>\n              <Th>Creation time</Th>\n              <Th>Deposit price Ether</Th>\n              <Th>Gas price Gwei</Th>\n              <Th>Transaction hash</Th>\n              <Th>Verified</Th>\n              <Th>Details</Th>\n            </TrHead>\n          </thead>\n          <tbody>\n            {qDeposits.data!!.map(deposit => (<Tr key={deposit.uuid}>\n              <TdAlignRight>{fractionlessToString(deposit.amount)}</TdAlignRight>\n              <Td>{(new Date(deposit.timeCreated*1000)).toLocaleString()}</Td>\n              <TdAlignRight>{weiToEtherStr(deposit.priceEther)}</TdAlignRight>\n              <TdAlignRight>{weiToGweiStr(deposit.gasPrice)}</TdAlignRight>\n              {deposit.ethTxHash == null\n                ? <TdItalic>Not yet created</TdItalic>\n                : <Td><A\n                    href={txHashToExplorerUrl(CHAIN_ID, deposit.ethTxHash)}\n                    target=\"_blank\" rel=\"noreferrer\">\n                      {deposit.ethTxHash.slice(0, 15)}...\n                  </A></Td>\n              }\n              <Td>{deposit.isVerified\n                ? <FontAwesomeIcon icon={faCheck} color={theme.color.success} />\n                : <FontAwesomeIcon icon={faTimes} color={theme.color.error} />\n              }</Td>\n              <Td>\n                <DepositDetailsButton\n                  onClick={() => setCurrentDepositDetails(deposit)}>\n                  <FontAwesomeIcon icon={faInfoCircle} color=\"#fff\" />\n                </DepositDetailsButton>\n              </Td>\n            </Tr>))}\n          </tbody>\n        </Table>\n        : <P>You haven't made any presale deposits yet</P>\n      }\n\n      <Modal\n        style={modalStyle(theme)}\n        isOpen={(currentDepositDetails != null && !showVerifyDepositModal)}\n        contentLabel=\"Deposit Details Dialog\"\n        onRequestClose={closeDepositDetailsModal}>\n          {currentDepositDetails != null\n            ? <DepositDetails\n                deposit={currentDepositDetails}\n                onLaunchVerification={() => handleLaunchVerification()} />\n            : <ErrorP>No deposit selected</ErrorP>\n          }\n        <Button onClick={closeDepositDetailsModal}>close</Button>\n      </Modal>\n      <Modal\n        style={modalStyle(theme)}\n        isOpen={currentDepositDetails != null && showVerifyDepositModal}\n        contentLabel=\"Deposit Details Dialog\"\n        onRequestClose={closeDepositDetailsModal}>\n          {currentDepositDetails != null\n            ? <ConfirmAndVerifyDepositSlides\n              chainId={CHAIN_ID}\n              deposit={currentDepositDetails}\n              onVerified={verifiedDeposit => {\n                qDeposits.refetch()\n                setCurrentDepositDetails(verifiedDeposit)\n                setShowVerifyDepositModal(false)\n              }} />\n            : <ErrorP>No deposit selected</ErrorP>\n          }\n        <Button onClick={closeDepositDetailsModal}>close</Button>\n      </Modal>\n    </>)\n  }\n\n  return <>\n    <P>You need to be logged in to view your deposits.</P>\n    <Button onClick={() => launchLoginModal()}>Log in</Button>\n  </>\n}\n\nexport default DepositsTable\n","import React from \"react\"\nimport { FunctionComponent } from \"react\"\nimport { MainWrapper, Main, Section } from \"../style/grouping\"\nimport { H1, H2 } from \"../style/text\"\nimport CurrentUserInfo from \"./auth/CurrentUserInfo\"\nimport LogOut from \"./auth/LogOut\"\nimport DepositsTable from \"./DepositsTable\"\n\nconst Profile: FunctionComponent<{}> = () => {\n  return (<MainWrapper>\n    <Main>\n      <H1>My profile</H1>\n      <Section>\n        <H2>Details</H2>\n        <CurrentUserInfo />\n      </Section>\n      <Section>\n        <H2>Deposits</H2>\n        <DepositsTable />\n      </Section>\n      <Section>\n        <H2>Log out</H2>\n        <LogOut />\n      </Section>\n    </Main>\n  </MainWrapper>)\n}\n\nexport default Profile\n","import React, { FunctionComponent, useRef, useState } from \"react\"\nimport BN from \"bn.js\"\nimport { Input, Label } from \"../../style/form\"\nimport { H2, Pre, P, MonoData, SpanItalic } from \"../../style/text\"\nimport styled from \"styled-components\"\nimport { AMOUNT_TO_FRACTIONLESS_FACTOR, browserDecimalSeparator, fractionlessToString, fractionlessNumberFromString, NumberFormatException } from \"../../../service/number\"\nimport { ErrorP } from \"../../style/error\"\n\nconst CENT = new BN('100')\nconst DEPOSIT_PERCENTAGE = new BN('20')\nconst MINIMUM_ARTS_AMOUNT = new BN('20000')\n\nconst PaymentButton = styled.button`\n  width: 5rem;\n  padding: 0;\n  background: none;\n  border: none;\n  cursor: pointer;\n\n  > img {\n    width: 100%;\n    padding: 0;\n    margin: 0;\n  }\n`\n\nconst ParamsSlide: FunctionComponent<{\n  onEtherCheckout: (amount: BN) => void\n}> = ({ onEtherCheckout }) => {\n  const form = useRef<HTMLFormElement>(null)\n  const [amountError, setAmountError] = useState<string | null>(null)\n  const [amount, setAmount] = useState<null | BN>(null)\n\n  const handleAmountChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const newAmountString = e.target.value\n    let newAmount\n    try {\n      newAmount = fractionlessNumberFromString(newAmountString)\n    } catch (error) {\n      if (error instanceof NumberFormatException) {\n        setAmountError(error.message)\n        return\n      } else throw error\n    }\n    setAmountError(null)\n    if (newAmount == null) return\n    if (newAmount.lt(MINIMUM_ARTS_AMOUNT)) {\n      setAmountError('Amount is too small')\n      return\n    }\n    setAmount(newAmount)\n  }\n\n  const handleEthereumCheckout = (e: React.MouseEvent<HTMLButtonElement>) => {\n    if (form.current?.checkValidity() !== true) return\n    if (amount == null) {\n      setAmountError('Please specify an amount')\n      return\n    }\n    onEtherCheckout(amount)\n  }\n\n  const minimumAmountStr = fractionlessToString(MINIMUM_ARTS_AMOUNT)\n  const amountChargedNow = amount == null ? null : amount.mul(DEPOSIT_PERCENTAGE).div(CENT)\n  const amountChargedDuringPrivate = amountChargedNow == null || amount == null ? null : amount.sub(amountChargedNow)\n\n  return (<>\n    <H2>Select investment amount</H2>\n    <form onSubmit={e => e.preventDefault()} ref={form}>\n      <Label>\n        Private ICO investment (EUR, {minimumAmountStr} minimum, you will be charged {DEPOSIT_PERCENTAGE.toString(10)}% of this amount now)\n        <Input\n          type=\"number\" step=\"0.01\" placeholder={minimumAmountStr} min={minimumAmountStr}\n          onChange={handleAmountChange}\n        />\n      </Label>\n      {amountError != null ? <ErrorP>{amountError}</ErrorP> : <></>}\n      <P>\n        Amount charged now (EUR, excluding transaction fees):{' '}\n        <MonoData>{amountChargedNow == null ? '?' : fractionlessToString(amountChargedNow)}</MonoData><br/>\n        Amount charged during private ICO:{' '}\n        <MonoData>{amountChargedDuringPrivate == null ? '?' : fractionlessToString(amountChargedDuringPrivate)}</MonoData>\n      </P>\n      <P>Checkout with:</P>\n      {/* <button className=\"payment-btn\" type=\"submit\" value=\"creditcard\" onClick={onStipeBtnClick}>\n        <img src={process.env.PUBLIC_URL + '/icon/mastercard.svg'} alt=\"mastercard\"/>\n        <img src={process.env.PUBLIC_URL + '/icon/visa.svg'} alt=\"visa\"/>\n        <img src={process.env.PUBLIC_URL + '/icon/americanexpress.svg'} alt=\"americanexpress\"/>\n      </button> */}\n      <PaymentButton type=\"submit\" onClick={handleEthereumCheckout}>\n        <img src={process.env.PUBLIC_URL + '/icon/ethereum.svg'} alt=\"etherum\"/>\n        {/* <img src={process.env.PUBLIC_URL + '/icon/bitcoin.svg'} alt=\"bitcoin\"/> */}\n      </PaymentButton>\n      <P><SpanItalic>During this stage of the ICO only payment via Ethereum is available.</SpanItalic></P>\n      <P><SpanItalic>Your browser uses '{browserDecimalSeparator}' as a decimal seperator. We will try to use that choice wherever possible.</SpanItalic></P>\n    </form>\n  </>)\n}\n\nexport default ParamsSlide\n","import React, { FunctionComponent, useEffect, useState } from \"react\";\nimport { useQuery } from \"react-query\";\nimport { useCurrentUserDetails, useIos } from \"../../../contexts\";\nimport { UserDto } from \"../../../service/model/User\";\nimport * as authApi from \"../../../service/api/auth\";\nimport LoadingRing from \"../LoadingRing\";\nimport { isNamedApiException, NamedApiException } from \"../../../service/api\";\nimport { errorToString, markErrorProcessed } from \"../../../util\";\nimport { ErrorP } from \"../../style/error\";\nimport { H2, P } from \"../../style/text\";\nimport GenericError from \"../GenericError\";\n\nconst LogInUsingSessionSlide: FunctionComponent<{\n  onLoggedIn: (user: UserDto) => void,\n  onNotLoggedIn: () => void\n}> = ({ onLoggedIn, onNotLoggedIn }) => {\n  const [callbackCalled, setCallbackCalled] = useState(false)\n  const { setCurrentUser } = useCurrentUserDetails()\n  const { auth: authIo } = useIos()\n  const qMe = useQuery(\n    ['auth', 'me'],\n    () => authApi.getMe(authIo),\n    {\n      retry: (count, error) => {\n        markErrorProcessed(error)\n        if (isNamedApiException(error, 'NotLoggedInException')) return false\n        return count < 3\n      },\n      enabled: !callbackCalled\n    }\n  )\n  \n  useEffect(() => {\n    if (!callbackCalled) {      \n      if (qMe.isSuccess) {\n        const userFromApi = qMe.data!!\n        setCallbackCalled(true)\n        setCurrentUser(userFromApi)\n        onLoggedIn(userFromApi)\n      } else if (isNamedApiException(qMe.error, 'NotLoggedInException')) {\n        setCallbackCalled(true)\n        onNotLoggedIn()\n      }\n    }\n  }, [qMe.isSuccess, qMe.error])\n\n  if (qMe.isLoading) {\n    return <>\n      <H2>Logging you in...</H2>\n      <LoadingRing />\n    </>\n  } else if (qMe.isError) {\n    return <>\n      <GenericError error={qMe.error}>\n        An error occured while logging you in\n      </GenericError>\n      <button onClick={() => qMe.refetch()}>Try again</button>\n    </>\n  } else if (qMe.data == null) {\n    return <P>Not logged in</P>\n  }\n\n  return <P>Logged in as {qMe.data!!.uuid}</P>\n}\n\nexport default LogInUsingSessionSlide\n","import React, { FunctionComponent, useEffect, useState } from \"react\";\nimport { useMutation, useQuery } from \"react-query\";\nimport { useCurrentUserDetails, useIos } from \"../../../contexts\";\nimport { UserDto } from \"../../../service/model/User\";\nimport * as authApi from \"../../../service/api/auth\";\nimport LoadingRing from \"../LoadingRing\";\nimport Wallet from \"../../../service/eth/Wallet\";\nimport Web3 from \"web3\";\nimport { isNamedApiException } from \"../../../service/api\";\nimport { markErrorProcessed } from \"../../../util\";\nimport { ErrorP } from \"../../style/error\";\nimport { H2, P } from \"../../style/text\";\nimport { Button } from \"../../style/button\";\nimport GenericError from \"../GenericError\";\n\nconst LogInUsingWalletSlide: FunctionComponent<{\n  wallet: Wallet,\n  onLoggedIn: (user: UserDto) => void,\n  onNoSuchUser: () => void\n}> = ({ wallet, onLoggedIn, onNoSuchUser }) => {\n  const { setCurrentUser } = useCurrentUserDetails()\n  const { auth: authIo } = useIos()\n  const web3 = new Web3(wallet.provider)\n  const qAuthenticateMutation = useMutation(\n    ['auth', authApi.authenticateThroughWeb3.name, wallet.providerType, wallet.address],\n    () => authApi.authenticateThroughWeb3(authIo, web3, wallet.address),\n    {\n      retry: (count, error) => {\n        markErrorProcessed(error)\n        if (error instanceof authApi.SigningDeniedException) return false\n        if (isNamedApiException(error, 'NotFoundException')) return false\n        return count < 3\n      },\n    }\n  )\n  \n  useEffect(() => {\n    if (qAuthenticateMutation.isSuccess) {\n      const userFromApi = qAuthenticateMutation.data!!\n      setCurrentUser(userFromApi)\n      onLoggedIn(userFromApi)\n    } else if (isNamedApiException(qAuthenticateMutation.error, 'NotFoundException')) {\n      onNoSuchUser()\n    }\n  }, [qAuthenticateMutation.isSuccess, qAuthenticateMutation.error])\n\n  return <>\n    <H2>Sign the authentication code to log in</H2>\n    {(() => {\n      if (qAuthenticateMutation.isLoading) {\n        return <>\n          <P>Signing authentication code...</P>\n          <P>\n            Your crypto wallet may ask for you permission.<br/>\n            If so, accept the prompt to continue.\n          </P>\n          <LoadingRing />\n        </>\n      } else if (qAuthenticateMutation.isError) {\n        return <>\n          <GenericError error={qAuthenticateMutation.error}>\n            An error occured while trying to log in using your wallet\n          </GenericError>\n          <button onClick={() => qAuthenticateMutation.mutate()}>Try again</button>\n        </>\n      } else if (qAuthenticateMutation.isSuccess) {\n        return <P>\n          Logged in as {qAuthenticateMutation.data!!.uuid}\n        </P>\n      }\n    \n      return <>\n        <P>To log in using your Ethereum wallet, you need to sign the Art Value authentication code</P>\n        <Button onClick={() => qAuthenticateMutation.mutate()}>Sign</Button>\n      </>\n    })()}\n  </>\n}\n\nexport default LogInUsingWalletSlide\n","import React, { FunctionComponent, useState } from \"react\";\nimport { Button } from \"../../style/button\";\nimport { Input, Label } from \"../../style/form\";\n\nconst SignupForm: FunctionComponent<{\n  onFormComplete: (email: string) => void\n}> = ({ onFormComplete }) => {\n  const [email, setEmail] = useState<string>('')\n\n  return (<form onSubmit={e => {\n    e.preventDefault()\n    onFormComplete(email)\n  }}>\n    <Label>\n      Email\n      <Input\n        type=\"text\"\n        placeholder=\"john.doe@example.com\"\n        onChange={e => setEmail(e.target.value)} />\n    </Label>\n    <Button type=\"submit\" value=\"portis\">\n      Sign up\n    </Button>\n  </form>)\n}\n\nexport default SignupForm\n","import React, { FunctionComponent, useEffect, useState } from \"react\";\nimport { useMutation, useQuery } from \"react-query\";\nimport { useCurrentUserDetails, useIos } from \"../../../contexts\";\nimport { UserDto } from \"../../../service/model/User\";\nimport * as authApi from \"../../../service/api/auth\";\nimport LoadingRing from \"../LoadingRing\";\nimport Wallet from \"../../../service/eth/Wallet\";\nimport Web3 from \"web3\";\nimport SignupForm from \"./SignupForm\";\nimport { ErrorP } from \"../../style/error\";\nimport { H2, P, SpanItalic } from \"../../style/text\";\nimport GenericError from \"../GenericError\";\nimport { Button } from \"../../style/button\";\n\nconst SignUpSlide: FunctionComponent<{\n  wallet: Wallet,\n  onSignedUp: (user: UserDto) => void\n}> = ({ wallet, onSignedUp }) => {\n  const { setCurrentUser } = useCurrentUserDetails()\n  const { auth: authIo } = useIos()\n  const web3 = new Web3(wallet.provider)\n  const [email, setEmail] = useState<string | null>(null)\n  const signUpMutation = useMutation(\n    (email: string) => authApi.signUp(authIo, web3, wallet, email)\n  )\n  \n  useEffect(() => {\n    if (signUpMutation.isSuccess) {\n      const userFromApi = signUpMutation.data!!\n      setCurrentUser(userFromApi)\n      onSignedUp(userFromApi)\n    }\n  }, [signUpMutation])\n\n  return <>\n    <H2>Sign up</H2>\n    <P>\n      Your Ethereum wallet isn't connected to an Art Value account yet.\n      Enter your email address to create an account.\n    </P>\n    <P>\n      All future assets (like ARTS or Number NFT's) will\n      be send to this wallet's address ({wallet.address}).\n    </P>\n    {(() => {\n      if (signUpMutation.isLoading) {\n        return <>\n          <P>Signing you up...</P>\n          <P><SpanItalic>\n            Your crypto wallet may ask for your permission. If so, accept the prompt.\n          </SpanItalic></P>\n          <LoadingRing />\n        </>\n      } else if (signUpMutation.isError) {\n        return <>\n          <GenericError error={signUpMutation.error}>\n            An error occured while signing you up\n          </GenericError>\n          {email != null\n            ? <Button onClick={() => signUpMutation.mutateAsync(email)}>Try again</Button>\n            : <></>\n          }\n        </>\n      } else if (signUpMutation.isSuccess) {\n        return <P>Logged in as {signUpMutation.data!!.uuid}</P>\n      }\n      \n      return <SignupForm onFormComplete={email => {\n        setEmail(email)\n        signUpMutation.mutateAsync(email)\n      }} />\n    })()}\n  </>\n}\n\nexport default SignUpSlide\n","import React, { FunctionComponent, useEffect, useState } from \"react\";\nimport { useCurrentUserDetails } from \"../../../contexts\";\nimport Wallet from \"../../../service/eth/Wallet\";\nimport { UserDto } from \"../../../service/model/User\";\nimport Carousel from \"../Carousel\";\nimport LogInUsingSessionSlide from \"./LogInUsingSessionSlide\";\nimport SelectWalletSlide from \"../wallet/SelectWalletSlide\";\nimport LogInUsingWalletSlide from \"./LogInUsingWalletSlide\";\nimport SignUpSlide from \"./SignUpSlide\";\nimport { ErrorP } from \"../../style/error\";\nimport { P } from \"../../style/text\";\n\nconst LoginSlides: FunctionComponent<{\n  onLoggedIn: (user: UserDto) => void\n}> = ({ onLoggedIn }) => {\n  const { currentUser } = useCurrentUserDetails()\n  const [carouselIndex, setCarouselIndex] = useState(0)\n  const [chosenWallet, setChosenWallet] = useState<Wallet | null>(null)\n  const [callbackCalled, setCallbackCalled] = useState(false)\n\n  useEffect(() => {\n    if (!callbackCalled && currentUser != null) {\n      setCallbackCalled(true)\n      onLoggedIn(currentUser)\n    }\n  }, [currentUser])\n\n  if (currentUser != null) {\n    return <P>Logged in as {currentUser.uuid}</P>\n  }\n\n  return (<Carousel currentIndex={carouselIndex}>{[\n    <LogInUsingSessionSlide\n      key={LogInUsingSessionSlide.name}\n      onLoggedIn={() => {}}\n      onNotLoggedIn={() => setCarouselIndex(old => Math.max(old, 1)) } />,\n    <SelectWalletSlide\n      key={SelectWalletSlide.name}\n      onWalletSelected={wallet => {\n        setChosenWallet(wallet)\n        setCarouselIndex(old => Math.max(old, 2))\n      }}>\n      Select an Ethereum wallet to log in\n    </SelectWalletSlide>,\n    ...(chosenWallet != null\n      ? [\n        <LogInUsingWalletSlide\n          key={LogInUsingWalletSlide.name}\n          wallet={chosenWallet}\n          onLoggedIn={onLoggedIn}\n          onNoSuchUser={() => setCarouselIndex(old => Math.max(old, 3))} />,\n        <SignUpSlide\n          key={SignUpSlide.name}\n          wallet={chosenWallet}\n          onSignedUp={user => {\n            console.info('Calling LoginSlides.onLoggedIn because signup done', user)\n            onLoggedIn(user)\n          }} />\n      ]\n      : [<ErrorP key={\"no-wallet-chosen\"}>No wallet chosen</ErrorP>]\n    )\n  ]}</Carousel>)\n}\n\nexport default LoginSlides\n","import BN from \"bn.js\";\nimport Web3 from \"web3\";\nimport { TransactionReceipt, PromiEvent } from \"web3-core\";\nimport { ChainId } from \"./networks\";\n\nexport interface EthPaymentTxResult {\n  receipt: TransactionReceipt,\n  promiEvent: PromiEvent<TransactionReceipt>\n}\n\nexport default async function payUsingWeb3(\n  web3: Web3,\n  from: string,\n  to: string,\n  amount: BN,\n  gasPrice: BN,\n  chainId: ChainId\n) {\n  return await web3.eth.sendTransaction({\n    from,\n    to,\n    gasPrice,\n    chainId,\n    value: amount\n  })\n}\n","import BN from \"bn.js\";\nimport React, { FunctionComponent, useEffect, useState } from \"react\";\nimport { useMutation } from \"react-query\";\nimport Web3 from \"web3\";\nimport { ChainId, txHashToExplorerUrl } from \"../../../service/eth/networks\";\nimport payUsingWeb3, { EthPaymentTxResult } from \"../../../service/eth/pay\";\nimport Wallet from \"../../../service/eth/Wallet\";\nimport LoadingRing from \"../LoadingRing\";\nimport { TransactionReceipt } from \"web3-core\";\nimport { MINIMUM_CONFIRMATIONS } from \"../../../constants\";\nimport { ErrorP } from \"../../style/error\";\nimport { A, H2, MonoData, P, Pre, SpanItalic } from \"../../style/text\";\nimport { weiToEtherStr } from \"../../../service/eth/util\";\nimport { HorizontalCenter } from \"../../style/grouping\";\nimport Loading from \"../Loading\";\nimport { PromiEvent, Transaction } from \"web3-core\";\nimport { Button } from \"../../style/button\";\nimport GenericError from \"../GenericError\";\n\nconst PayUsingWalletSlide: FunctionComponent<{\n  wallet: Wallet,\n  chainId: ChainId,\n  toAddress: string,\n  amount: BN,\n  gasPrice: BN,\n  onPaymentComplete: (receipt: TransactionReceipt) => void\n}> = ({ wallet, amount, gasPrice, chainId, toAddress, onPaymentComplete }) => {\n  const web3 = new Web3(wallet.provider)\n  const [callbackCalled, setCallbackCalled] = useState(false)\n  const qPaymentMutation = useMutation(\n    () => payUsingWeb3(\n      web3, wallet.address, toAddress, amount, gasPrice, chainId\n    )\n  )\n\n  useEffect(() => {\n    if (!callbackCalled && qPaymentMutation.isSuccess) {\n      setCallbackCalled(true)\n      onPaymentComplete(qPaymentMutation.data!!)\n    }\n  }, [qPaymentMutation.isSuccess])\n\n  return <>\n    <H2>Pay using your Ethereum wallet</H2>\n    {(() => {\n      if (qPaymentMutation.isLoading) {\n        return <>\n          <P>\n            Your crypto wallet may ask for you permission.<br/>\n            If so, accept the prompt to continue.\n          </P>\n          <Loading><P>Paying...</P></Loading>\n          <P><SpanItalic>This may take a while, your wallet needs to submit the transaction to the network.</SpanItalic></P>\n        </>\n      } else if (qPaymentMutation.isError) {\n        return <>\n          <GenericError error={qPaymentMutation.error}>\n            An error occured while paying using your crypto wallet\n          </GenericError>\n          <P>\n            Only try again if you know the transaction failed!\n            To get refunded if the transaction did go through, please contact us.\n          </P>\n          <Button onClick={() => qPaymentMutation.mutate()}>Try again</Button>\n        </>\n      } else if (qPaymentMutation.isSuccess) {\n        const txHash = qPaymentMutation.data!!.transactionHash\n        return <>\n          <P>\n            Payment successful!<br />\n            <A href={txHashToExplorerUrl(chainId, txHash)} target=\"_blank\">\n              View on etherscan\n            </A>\n          </P>\n          <Button onClick={() => onPaymentComplete(qPaymentMutation.data!!)}>\n            Continue\n          </Button>\n        </>\n      }\n    \n      return <>\n        <P>To pay, you need to approve the following transaction:</P>\n        <P>\n          From: <MonoData>{wallet.address} (your selected address)</MonoData><br/>\n          To: <MonoData>{toAddress} (Art Value's address)</MonoData><br/>\n          Amount: <MonoData>{weiToEtherStr(amount)}</MonoData> Ether\n        </P>\n        <Button onClick={() => qPaymentMutation.mutate()}>Pay</Button>\n      </>\n    })()}\n  </>\n}\n\nexport default PayUsingWalletSlide\n","import BN from \"bn.js\";\nimport React, { FunctionComponent, useState } from \"react\";\nimport { ChainId } from \"../../../service/eth/networks\";\nimport Wallet from \"../../../service/eth/Wallet\";\nimport Carousel from \"../Carousel\";\nimport SelectWalletSlide from \"../wallet/SelectWalletSlide\";\nimport PayUsingWalletSlide from \"./PayUsingWalletSlide\";\nimport { TransactionReceipt, PromiEvent } from \"web3-core\";\n\nconst EtherSlides: FunctionComponent<{\n  chainId: ChainId,\n  toAddress: string,\n  amount: BN,\n  gasPrice: BN,\n  onPaymentComplete: (receipt: TransactionReceipt, wallet: Wallet) => void\n}> = ({ chainId, amount, toAddress, gasPrice, onPaymentComplete }) => {\n  const [carouselIndex, setCarouselIndex] = useState(0)\n  const [chosenWallet, setChosenWallet] = useState<Wallet | null>(null)\n  \n  return <Carousel currentIndex={carouselIndex}>{[\n    <SelectWalletSlide\n      key={SelectWalletSlide.name}\n      onWalletSelected={wallet => {\n        setChosenWallet(wallet)\n        setCarouselIndex(old => Math.max(old, 1))\n      }}>\n      Select an Ethereum wallet to pay\n    </SelectWalletSlide>,\n    ...(chosenWallet !== null ? [\n      <PayUsingWalletSlide\n        key={PayUsingWalletSlide.name}\n        chainId={chainId}\n        toAddress={toAddress}\n        wallet={chosenWallet}\n        amount={amount}\n        gasPrice={gasPrice}\n        onPaymentComplete={receipt => onPaymentComplete(receipt, chosenWallet)} />\n    ] : [])\n  ]}</Carousel>\n}\n\nexport default EtherSlides\n","import BN from \"bn.js\";\nimport React, { FunctionComponent, useEffect } from \"react\";\nimport { useMutation } from \"react-query\";\nimport { ETHER_TO_ADDRESS } from \"../../../constants\";\nimport { useIos } from \"../../../contexts\";\nimport { isNamedApiException } from \"../../../service/api\";\nimport { createDeposit } from \"../../../service/api/deposit\";\nimport Deposit from \"../../../service/model/Deposit\";\nimport { fractionlessToString } from \"../../../service/number\";\nimport { errorToString } from \"../../../util\";\nimport { Button } from \"../../style/button\";\nimport { ErrorP } from \"../../style/error\";\nimport { A, H2, P } from \"../../style/text\";\nimport ErrorContactInfo from \"../ErrorContactInfo\";\nimport GenericError from \"../GenericError\";\nimport LoadingRing from \"../LoadingRing\";\n\nconst CreateDepositSlide: FunctionComponent<{\n  amount: BN,\n  onDepositCreated: (deposit: Deposit) => void\n}> = ({ amount, onDepositCreated }) => {\n  const { deposit: depositIo } = useIos()\n  const qDepositMutation = useMutation(\n    () => createDeposit(depositIo, amount)\n  )\n\n  useEffect(() => qDepositMutation.mutate(), [amount])\n\n  useEffect(() => {\n    if (qDepositMutation.isSuccess) {\n      onDepositCreated(qDepositMutation.data!!)\n    }\n  }, [qDepositMutation.data])\n\n  return <>\n    <H2>Deposit request</H2>\n    {(() => {\n      if (qDepositMutation.isLoading) {\n        return <>\n          <P>Creating deposit request...</P>\n          <LoadingRing />\n        </>\n      } else if (qDepositMutation.isError) {\n        if (isNamedApiException(qDepositMutation.error, 'IsReservedNumberException')) {\n          return <>\n            <P>Sorry, but {fractionlessToString(amount)} is a reserved number.</P>\n            <P>\n              Please contact us at{' '}\n              <A href={`mailto:info@artvalue.org?subject=Purchase%20of%20${fractionlessToString(amount)}`}>info@artvalue.org</A>{' '}\n              if you are interested in buying it.\n            </P>\n          </>\n        } else if (isNamedApiException(qDepositMutation.error, 'AlreadyReservedException')) {\n          return <>\n            <P>Sorry, but the number {fractionlessToString(amount)} has already been selected by another investor.</P>\n            <P>\n              Please contact us at{' '}\n              <A href={`mailto:info@artvalue.org`}>info@artvalue.org</A>{' '}\n              if you have any questions.\n            </P>\n          </>\n        }\n        return <>\n          <GenericError error={qDepositMutation.error}>\n            An error occured trying to create the deposit\n          </GenericError>\n          <Button onClick={() => qDepositMutation.mutate()}>Try again</Button>\n        </>\n      } else if (qDepositMutation.isSuccess) {\n        return <>\n          <P>\n            Deposit request created successfully!\n          </P>\n          <Button\n            onClick={() => onDepositCreated(qDepositMutation.data!!)}>\n            Continue\n          </Button>\n        </>\n      }\n    \n      return <ErrorP>\n        Could not create the deposit request\n      </ErrorP>\n    })()}\n  </>\n}\n\nexport default CreateDepositSlide\n","import React, { FunctionComponent } from \"react\";\nimport { Button } from \"../../style/button\";\nimport { Section } from \"../../style/grouping\";\nimport { H2, P, StrongNumber } from \"../../style/text\";\n\nconst InfoSlide: FunctionComponent<{\n  onContinue: () => void\n}> = ({ onContinue }) => {\n  return <>\n    <Section>\n      <H2>Invest in the Art Value ICO presale</H2>\n      <P>\n        During the Art Value ICO presale you can make a deposit to secure the <StrongNumber>0.5</StrongNumber> EUR per ARTS private ICO price and a unique <StrongNumber>Art Value Number</StrongNumber> (numerically equal to your invested amount).\n      </P>\n      <P>\n        The deposit is <StrongNumber>20%</StrongNumber> of your total private ICO investment.\n      </P>\n      <P>\n        For example, by investing €200 in the private ICO, you will be charged €40 now and you will need to pay the remaining €160 during the private ICO.\n        After paying this remaining amount you will receive the 400 ARTS (for this example) and your unique Art Value Number.\n      </P>\n    </Section>\n    <Button onClick={() => onContinue()}>Continue</Button>\n  </>\n}\n\nexport default InfoSlide\n","import BN from \"bn.js\";\nimport React, { FunctionComponent, useEffect } from \"react\";\nimport { useMutation } from \"react-query\";\nimport { ETHER_TO_ADDRESS } from \"../../../constants\";\nimport { useIos } from \"../../../contexts\";\nimport { createDeposit, setDepositEthTxHash } from \"../../../service/api/deposit\";\nimport Deposit from \"../../../service/model/Deposit\";\nimport { Button } from \"../../style/button\";\nimport { ErrorP } from \"../../style/error\";\nimport { H2, P } from \"../../style/text\";\nimport GenericError from \"../GenericError\";\nimport LoadingRing from \"../LoadingRing\";\n\nconst SetDepositEthTxHashSlide: FunctionComponent<{\n  deposit: Deposit,\n  ethTxHash: string,\n  onDepositEthTxHashSet: (deposit: Deposit) => void\n}> = ({ deposit, ethTxHash, onDepositEthTxHashSet }) => {\n  const { deposit: depositIo } = useIos()\n  const qDepositMutation = useMutation(\n    () => setDepositEthTxHash(depositIo, deposit, ethTxHash)\n  )\n\n  useEffect(() => qDepositMutation.mutate(), [])\n\n  useEffect(() => {\n    if (qDepositMutation.isSuccess) {\n      onDepositEthTxHashSet(qDepositMutation.data!!)\n    }\n  }, [qDepositMutation.data])\n\n  return <>\n    <H2>Update deposit status</H2>\n    {(() => {\n      if (qDepositMutation.isLoading) {\n        return <>\n          <P>Updating deposit status with your transaction's data...</P>\n          <LoadingRing />\n        </>\n      } else if (qDepositMutation.isError) {\n        return <>\n          <GenericError error={qDepositMutation.error}>\n            An error occured while updating the deposit\n          </GenericError>\n          <Button onClick={() => qDepositMutation.mutate()}>Try again</Button>\n        </>\n      } else if (qDepositMutation.isSuccess) {\n        return <>\n          <P>\n            Deposit request updated successfully!\n          </P>\n          <Button\n            onClick={() => onDepositEthTxHashSet(qDepositMutation.data!!)}>\n            Continue\n          </Button>\n        </>\n      }\n    \n      return <ErrorP>\n        Could not update the deposit\n      </ErrorP>\n    })()}\n  </>\n}\n\nexport default SetDepositEthTxHashSlide\n","import React, { FunctionComponent, useEffect, useState } from \"react\"\nimport ParamsSlide from \"./ParamsSlide\"\nimport Carousel from \"../Carousel\"\nimport BN from \"bn.js\"\nimport StripeSlide from \"./StripeSlide\"\nimport { Stripe } from \"@stripe/stripe-js\"\nimport { Elements } from \"@stripe/react-stripe-js\"\nimport { useCurrentUserDetails, useWallets } from \"../../../contexts\"\nimport LoginSlides from \"../auth/LoginSlides\"\nimport EtherSlides from \"./EtherSlides\"\nimport CreateDepositSlide from \"./CreateDepositSlide\"\nimport Deposit, { DepositDto } from \"../../../service/model/Deposit\"\nimport VerifyDepositSlide from \"./VerifyDepositSlide\"\nimport InfoSlide from \"./InfoSlide\"\nimport * as constants from \"../../../constants\";\nimport { TransactionReceipt } from \"web3-core\";\nimport SetDepositEthTxHashSlide from \"./UpdateDepositSlide\"\nimport { Button } from \"../../style/button\"\nimport { EthPaymentTxResult } from \"../../../service/eth/pay\"\nimport ConfirmEthTxSlide from \"./ConfirmEthTxSlide\"\nimport SuccessSlide from \"./SuccessSlide\"\nimport Wallet from \"../../../service/eth/Wallet\"\nimport Web3 from \"web3\"\n\nconst PurchaseSlides: FunctionComponent<{\n  stripePromise: Promise<Stripe | null>,\n  onClose: () => void\n}> = ({ stripePromise, onClose }) => {\n  const { currentUser } = useCurrentUserDetails()\n  const [amount, setAmount] = useState<BN | null>(null)\n  const [deposit, setDeposit] = useState<Deposit | null>(null)\n  const [depositEthTxHashIsSet, setDepositEthTxHashIsSet] = useState(false)\n  const [ethTxReceiptAndWallet, setEthTxReceiptAndWallet] = useState<{\n    receipt: TransactionReceipt, wallet: Wallet\n  } | null>(null)\n  const [ethTxConfirmations, setEthTxConfirmations] = useState(0)\n  const [ethTxConfirmed, setEthTxConfirmed] = useState(false)\n  const [ethTxVerified, setEthTxVerified] = useState(false)\n  const [carouselIndex, setCarouselIndex] = useState<number>(0)\n  const [checkoutId, setCheckoutId] = useState<number>() // Used to track this checkout client side (different from AvTxId)\n\n  useEffect(() => setCheckoutId(Math.random()), [])\n  \n  const chainId = constants.CHAIN_ID\n  const toAddress = constants.ETHER_TO_ADDRESS\n\n  // const handleStripeCheckout = (_amount: BN) => {\n  //   console.log(`Amount specified, stripe chosen: ${_amount}`)\n  //   setAmount(_amount)\n  //   setCarouselIndex(2)\n  // }\n\n  const handleEtherCheckout = (_amount: BN) => {\n    console.log(`Amount specified: ${_amount}, Ether chosen`)\n    setAmount(_amount)\n    setCarouselIndex(old => Math.max(old, 2))\n  }\n\n  // const onStripeCheckoutDone = (_avTransactionId: string) => {\n  //   console.log(`Stripe checkout done, avTransactionId: ${_avTransactionId}`)\n  //   setAvTransactionId(_avTransactionId)\n  //   setCarouselIndex(3)\n  // }\n\n  return (<>\n  <Carousel currentIndex={carouselIndex}>{[\n    ...(currentUser == null\n      ? [<LoginSlides\n          key={LoginSlides.name}\n          onLoggedIn={() => {}} />]\n      : []\n    ),\n    <InfoSlide\n      key=\"Info slide\"\n      onContinue={() => setCarouselIndex(old => Math.max(old, 1))} />,\n    <ParamsSlide\n      key={ParamsSlide.name}\n      onEtherCheckout={handleEtherCheckout} />,\n    ...(amount != null\n      ? [\n        <CreateDepositSlide\n          key={CreateDepositSlide.name}\n          amount={amount}\n          onDepositCreated={deposit => {\n            setDeposit(deposit)\n            setCarouselIndex(old => Math.max(old, 3))\n          }} />,\n        ...(deposit != null\n          ? [\n            <EtherSlides\n              key={EtherSlides.name}\n              chainId={chainId}\n              toAddress={toAddress}\n              amount={deposit.priceEther}\n              gasPrice={deposit.gasPrice}\n              onPaymentComplete={(receipt, wallet) => {\n                setEthTxReceiptAndWallet({receipt, wallet})\n                setCarouselIndex(old => Math.max(old, 4))\n              }} />,\n            ...(ethTxReceiptAndWallet != null\n              ? [\n                <SetDepositEthTxHashSlide\n                  key={SetDepositEthTxHashSlide.name}\n                  deposit={deposit}\n                  ethTxHash={ethTxReceiptAndWallet.receipt.transactionHash}\n                  onDepositEthTxHashSet={(deposit) => {\n                    setDeposit(deposit)\n                    setDepositEthTxHashIsSet(true)\n                    setCarouselIndex(old => Math.max(old, 5))\n                  }} />,\n                  ...(depositEthTxHashIsSet\n                    ? [\n                      <ConfirmEthTxSlide\n                        key={ConfirmEthTxSlide.name}\n                        web3={new Web3(ethTxReceiptAndWallet.wallet.provider)}\n                        chainId={chainId}\n                        txReceipt={ethTxReceiptAndWallet.receipt}\n                        onTransactionConfirmed={() => {\n                          setEthTxConfirmed(true)\n                          setCarouselIndex(old => Math.max(old, 6))\n                        }} />,\n                      ...(ethTxConfirmed\n                        ? [\n                          <VerifyDepositSlide\n                            key={VerifyDepositSlide.name}\n                            deposit={deposit}\n                            onVerified={() => {\n                              setEthTxVerified(true)\n                              setCarouselIndex(old => Math.max(old, 7))\n                            }} />,\n                          ...(ethTxVerified\n                            ? [\n                              <SuccessSlide\n                                key={SuccessSlide.name}\n                                deposit={deposit}\n                                onClose={onClose} />\n                            ]\n                            : []\n                          )\n                        ]\n                        : []\n                      )\n                    ]\n                    : []\n                  )\n              ]\n              : []\n            )\n          ]\n          : []\n        )\n\n      ]\n      : []\n    )\n  ]}</Carousel>\n  {carouselIndex > 0\n    ? <Button onClick={() => setCarouselIndex(old => Math.max(0, old - 1))}>Back</Button>\n    : <></>\n  }\n  </>)\n}\n\nexport default PurchaseSlides\n","import React, { FunctionComponent } from \"react\";\nimport { FallbackProps } from \"react-error-boundary\";\nimport { Button } from \"../../style/button\";\nimport { P, Pre } from \"../../style/text\";\n\nconst ErrorFallback: FunctionComponent<FallbackProps> = (\n  { error, resetErrorBoundary }\n) => {\n  return (<>\n    <P>Something went wrong during your purchase:</P>\n    <Pre>{error.message}</Pre>\n    <Button onClick={resetErrorBoundary}>Try again</Button>\n  </>)\n}\n\nexport default ErrorFallback\n","import { FunctionComponent, useEffect, useState } from \"react\"\nimport styled from \"styled-components\"\n\n\ntype FlipClockProps = {\n  date: number\n}\n\nconst toDeltaFromNow = (date: number) => Date.now() - date\n\nconst deltaToSeconds = (t: number) => t / 1000\nconst deltaToMinutes = (t: number) => deltaToSeconds(t) / 60\nconst deltaToHours = (t: number) => deltaToMinutes(t) / 60\n\nconst deltaToDays = (t: number) => Math.floor(deltaToHours(t) / 24)\nconst deltaToHoursOfDay = (t: number) => Math.floor(deltaToHours(t) % 24)\nconst deltaToMinutesOfHour = (t: number) => Math.floor(deltaToMinutes(t) % 60)\nconst deltaToSecondsOfMinute = (t: number) => Math.floor(deltaToSeconds(t) % 60)\n\ninterface DeltaParts {\n  isNegative: boolean,\n  days: number,\n  hoursOfDay: number,\n  minutesOfHour: number,\n  secondsOfMinute: number\n}\n\nconst deltaToParts = (t: number): DeltaParts => {\n  const tAbs = Math.abs(t);\n  return {\n    isNegative: t < 0,\n    days: deltaToDays(tAbs),\n    hoursOfDay: deltaToHoursOfDay(tAbs),\n    minutesOfHour: deltaToMinutesOfHour(tAbs),\n    secondsOfMinute: deltaToSecondsOfMinute(tAbs)\n  }\n}\n\nconst deltaPartsWithChange = (deltaPartsOld: DeltaParts, deltaPartsNew: DeltaParts) => ({\n  old: deltaPartsOld,\n  new: deltaPartsNew\n})\n\nconst BigNumber = styled.span`\n  font-family: \"Avenir95Black\";\n  color: white;\n  font-size: 80pt;\n`\n\nconst NumberPart = styled.span`\n  display: inline-block;\n`\n\nexport const TextClock: FunctionComponent<FlipClockProps> = ({date}) => {\n  const [tMinusParts, setTMinusParts] = useState(deltaPartsWithChange(\n    deltaToParts(Infinity),\n    deltaToParts(-toDeltaFromNow(date))\n  ))\n\n  useEffect(() => {\n    const interval = window.setInterval(() => {\n      const newState = deltaPartsWithChange(\n        tMinusParts.new,\n        deltaToParts(-toDeltaFromNow(date))\n      )\n      setTMinusParts(newState)\n    }, 70)\n\n    return () => {\n      window.clearInterval(interval)\n    }\n  })\n\n  return (\n    <div className={'flipClock'}>\n      <BigNumber>\n        <NumberPart>\n          {tMinusParts.new.isNegative ? '-' : ''}\n          {tMinusParts.new.days.toString().padStart(3, '0')}\n        </NumberPart>\n        :\n        <NumberPart>\n          {tMinusParts.new.hoursOfDay.toString().padStart(2, '0')}\n        </NumberPart>\n        :\n        <NumberPart>\n          {tMinusParts.new.minutesOfHour.toString().padStart(2, '0')}\n        </NumberPart>\n        :\n        <NumberPart>\n          {tMinusParts.new.secondsOfMinute.toString().padStart(2, '0')}\n        </NumberPart>\n      </BigNumber>\n    </div>\n  )\n}\n","import React, { FunctionComponent, useState } from 'react';\nimport { loadStripe, Stripe } from '@stripe/stripe-js';\nimport Modal from 'react-modal';\nimport { useCurrentUserDetails } from '../../contexts';\nimport Wallet from '../../service/eth/Wallet';\nimport PurchaseSlides from './purchase/PurchaseSlides';\nimport styled, { useTheme } from 'styled-components';\nimport { ErrorBoundary } from 'react-error-boundary';\nimport ErrorFallback from './purchase/ErrorFallback';\nimport { Button, ButtonBig } from '../style/button';\nimport { modalStyle } from '../style/modal';\nimport { TextClock } from './TextCountdown';\nimport { A, H1, H2, P, StrongNumber } from '../style/text';\nimport { Main, MainWrapper } from '../style/grouping';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTimes } from '@fortawesome/free-solid-svg-icons';\n\nconst HomeH1 = styled(H1)`\n  margin-top: 5rem;\n  font-size: 30pt;\n  > strong {\n    display: block;\n    font-size: 60pt;\n  }\n`\n\nconst TextClockContainer = styled.div`\n  margin-bottom: 5rem;\n`\n\nconst ModalCloseButton = styled.button`\n  position: absolute;\n  right: 0;\n  top: 0;\n  background: none;\n  border: none;\n  padding: 1rem;\n  color: #fff;\n  cursor: pointer;\n`\n\nconst Home: FunctionComponent<{\n  stripePromise: Promise<Stripe>\n}> = ({ stripePromise }) => {\n  const [purchaseDialogOpen, setPurchaseDialogOpen] = useState(false)\n  const endDate = 1622465999000 // 31/05/21 23:59:59 https://www.epochconverter.com/\n  const currentUserDetails = useCurrentUserDetails()\n  const theme = useTheme()\n\n  const handlePurchaseTokenClick = () => {\n    setPurchaseDialogOpen(true)\n  }\n\n  const handleWalletSelected = (wallet: Wallet) => {\n    console.info(wallet)\n    setPurchaseDialogOpen(false)\n  }\n\n  const closeModal = () => {\n    setPurchaseDialogOpen(false)\n  }\n\n  return (<MainWrapper>\n    <Main>\n      <HomeH1>\n        <strong>Art Value ICO</strong>\n        The Art Value ICO presale is now open!\n      </HomeH1>\n      <P>\n        Invest now to secure the <StrongNumber>2X</StrongNumber> ARTS per Euro price during the private ICO.\n      </P>\n      <P>\n        By investing now you will also receive a unique Art Value Number equal to your invested amount.{' '}\n        <A href=\"https://artvalue.org/ico/\">Learn more</A>\n      </P>\n      <TextClockContainer>\n        <TextClock date={endDate} />\n        <P>...days until the presale ends.</P>\n      </TextClockContainer>\n      <ButtonBig onClick={handlePurchaseTokenClick}>Invest now</ButtonBig>\n      <Modal\n        style={modalStyle(theme)}\n        isOpen={purchaseDialogOpen}\n        contentLabel=\"Coin Purchase Dialog\"\n        onRequestClose={closeModal}>\n        <ModalCloseButton onClick={closeModal}>\n          <FontAwesomeIcon icon={faTimes} size=\"2x\" />\n        </ModalCloseButton>\n        <ErrorBoundary FallbackComponent={ErrorFallback}>\n          <PurchaseSlides stripePromise={stripePromise} onClose={() => closeModal()} />\n        </ErrorBoundary>\n      </Modal>\n    </Main>\n  </MainWrapper>)\n}\n\nexport default Home\n","import React from 'react';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\nimport RoutingPaths from './RoutingPaths';\nimport Profile from '../ui/components/Profile';\nimport HomeView from '../ui/components/Home';\n\nexport const Routes = (props: { children?: React.ReactChild }) => {\n\treturn (\n\t\t<BrowserRouter>\n\t\t\t{props.children}\n\t\t\t<Switch>\n\t\t\t\t<Route exact path={RoutingPaths.homeView} component={HomeView} />\n\t\t\t\t<Route exact path={RoutingPaths.myProfile} component={Profile} />\n\t\t\t\t<Route component={HomeView} />\n\t\t\t</Switch>\n\t\t</BrowserRouter>\n\t);\n};\n","import styled from 'styled-components';\nimport { BaseTitle } from '../../style/base';\n\ntype StyledNavigationProps = {\n\tviewportWidth: number;\n};\n\nexport const StyledNavigation = styled.div<StyledNavigationProps>`\n\t${BaseTitle}\n\theight: ${({ viewportWidth }) => (viewportWidth < 700 ? '85px' : '56px')};\n`;\n","import styled from 'styled-components';\nimport { BaseText } from '../../../style/base';\n\ntype DesktopLinkPropsProps = {\n\tactiveLink: string;\n};\n\nexport const DesktopWrapper = styled.div`\n\tdisplay: grid;\n\tgrid-gap: 1rem;\n\tjustify-items: center;\n\tpadding: 1em;\n\tgrid-template-columns: min-content\n\t\tmin-content\n\t\tauto;\n\tgrid-template-areas: 'logo nav user';\n\talign-items: center;\n\tpadding: 0;\n\tborder-bottom: 2px solid ${(props) => props.theme.color.border};\n\tmax-width:1124px;\n\tmargin-left: auto;\n\tmargin-right: auto;\n\tpadding-top: 1rem;\n`\n\nexport const DesktopLink = styled.span<DesktopLinkPropsProps>`\n\t${BaseText}\n\tfont-weight: ${({ activeLink }) => (activeLink === 'active' ? 'bold' : 'normal')};\n\ttext-decoration: none;\n\t&:hover {\n\t\topacity: 0.6;\n\t}\n`\n\nexport const DesktopLogo = styled.img`\n\twidth: 120px;\n\theight: auto;\n\tgrid-area: logo;\n\tjustify-self: start;\n\tmargin: 0;\n\tpadding: 0;\n\tcursor: pointer;\n`\n\nexport const NavList = styled.ul`\n\tgrid-area: nav;\n\tjustify-self: center;\n\tdisplay: grid;\n\tgrid-auto-flow: column;\n\tgrid-auto-columns: max-content;\n\tgap: 0.5rem;\n\tlist-style: none;\n\tcursor: pointer;\n`\n\nexport const NavListItem = styled.li`\n\tmargin-right: 5em;\n`\n\nexport const User = styled.div`\n\tgrid-area: user;\n\tjustify-self: end;\n\tmargin-right: 2em;\n\tcursor: pointer;\n`\n","import { FunctionComponent } from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport { DesktopWrapper, DesktopLink, DesktopLogo, NavList, NavListItem, User } from './StyledDesktop.styles';\n\ntype DesktopProps = {\n\tlogo: string;\n\ttabs: ReadonlyArray<string>;\n\tpaths: ReadonlyArray<string>;\n};\n\nexport const NavigationDesktop: FunctionComponent<DesktopProps> = ({ logo, tabs, paths }) => {\n\tconst history = useHistory();\n\tconst currentRoute = useLocation();\n\n\treturn (\n\t\t<DesktopWrapper>\n\t\t\t<DesktopLogo alt=\"art value logo\" src={logo} onClick={() => history.push(paths[0])}></DesktopLogo>\n\t\t\t<NavList>\n\t\t\t\t<NavListItem>\n\t\t\t\t\t<DesktopLink\n\t\t\t\t\t\tactiveLink={currentRoute.pathname.includes(paths[1]) ? 'active' : 'notActive'}\n\t\t\t\t\t\tonClick={() => history.push(paths[1])}\n\t\t\t\t\t>\n\t\t\t\t\t\t{tabs[1]}\n\t\t\t\t\t</DesktopLink>\n\t\t\t\t</NavListItem>\n\t\t\t\t<NavListItem>\n\t\t\t\t\t<DesktopLink\n\t\t\t\t\t\tactiveLink={currentRoute.pathname.includes(paths[2]) ? 'active' : 'notActive'}\n\t\t\t\t\t\tonClick={() => history.push(paths[2])}\n\t\t\t\t\t>\n\t\t\t\t\t\t{tabs[2]}\n\t\t\t\t\t</DesktopLink>\n\t\t\t\t</NavListItem>\n\t\t\t\t<NavListItem>\n\t\t\t\t\t<DesktopLink activeLink={'notActive'} onClick={() => window.location.href = 'https://artvalue.org'}>\n\t\t\t\t\t\tArtValue.org\n\t\t\t\t\t</DesktopLink>\n\t\t\t\t</NavListItem>\n\t\t\t</NavList>\n\t\t</DesktopWrapper>\n\t);\n};\n","import styled from 'styled-components';\n\ntype StyledBurgerProps = {\n\topen: boolean;\n};\n\nexport const StyledBurger = styled.button<StyledBurgerProps>`\n\tposition: absolute;\n\ttop: 5%;\n\tleft: 2rem;\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: space-around;\n\twidth: 2rem;\n\theight: 2rem;\n\tbackground: transparent;\n\tborder: none;\n\tcursor: pointer;\n\tpadding: 0;\n\tz-index: 10;\n\n\t&:focus {\n\t\toutline: none;\n\t}\n\n\tdiv {\n\t\twidth: 2rem;\n\t\theight: 0.25rem;\n\t\tbackground: white;\n\t\tborder-radius: 10px;\n\t\ttransition: all 0.3s linear;\n\t\tposition: relative;\n\t\ttransform-origin: 1px;\n\n\t\t:first-child {\n\t\t\ttransform: ${({ open }) => (open ? 'rotate(45deg)' : 'rotate(0)')};\n\t\t}\n\n\t\t:nth-child(2) {\n\t\t\topacity: ${({ open }) => (open ? '0' : '1')};\n\t\t\ttransform: ${({ open }) => (open ? 'translateX(20px)' : 'translateX(0)')};\n\t\t}\n\n\t\t:nth-child(3) {\n\t\t\ttransform: ${({ open }) => (open ? 'rotate(-45deg)' : 'rotate(0)')};\n\t\t}\n\t}\n`;\n","import { FunctionComponent } from 'react';\nimport { StyledBurger } from './StyledBurger.styles';\n\ninterface BurgerProps {\n\topen: boolean;\n\tsetOpen: (value: boolean) => void;\n}\n\nexport const Burger: FunctionComponent<BurgerProps> = ({ open, setOpen }) => {\n\treturn (\n\t\t<StyledBurger open={open} onClick={() => setOpen(!open)}>\n\t\t\t<div />\n\t\t\t<div />\n\t\t\t<div />\n\t\t</StyledBurger>\n\t);\n};\n","import styled from 'styled-components';\n\ntype StyledMenuProps = {\n\topen: boolean;\n};\n\nexport const StyledMenu = styled.nav<StyledMenuProps>`\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\tbackground-color: ${(props) => props.theme.color.surface};\n\theight: 100vh;\n\ttext-align: left;\n\tpadding: 2rem;\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\ttransition: transform 0.3s ease-in-out;\n\ttransform: ${({ open }) => (open ? 'translateX(0)' : 'translateX(-100%)')};\n\tdiv {\n\t\tfont-size: 1rem;\n\t\ttext-transform: uppercase;\n\t\tpadding: 1rem 0;\n\t\tfont-weight: bold;\n\t\tletter-spacing: 0.5rem;\n\t\tcolor: white;\n\t\ttext-decoration: none;\n\t\ttransition: color 0.3s linear;\n\t\tcursor: pointer;\n\t}\n`;\n","import { FunctionComponent } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { StyledMenu } from './StyledMenu.styles';\n\ninterface MenuProps {\n\topen: boolean;\n\tsetOpen: (value: boolean) => void;\n\ttabs: ReadonlyArray<string>;\n\tpaths: ReadonlyArray<string>;\n}\n\nexport const Menu: FunctionComponent<MenuProps> = ({ open, tabs, paths }) => {\n\tconst history = useHistory();\n\treturn (\n\t\t<StyledMenu open={open}>\n\t\t\t<div className=\"menu-item\" onClick={() => history.push(paths[1])}>\n\t\t\t\t{tabs[1]}\n\t\t\t</div>\n\t\t\t<div className=\"menu-item\" onClick={() => history.push(paths[2])}>\n\t\t\t\t{tabs[2]}\n\t\t\t</div>\n\t\t\t<div className=\"menu-item\" onClick={() => window.location.href = 'https://artvalue.org'}>\n\t\t\t\tArtValue.org\n\t\t\t</div>\n\t\t</StyledMenu>\n\t);\n};\n","import { useState, FunctionComponent, useRef } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useOnClickOutside } from '../../hooks/hooks';\nimport styled from 'styled-components';\nimport { Burger } from './Burger/Burger';\nimport { Menu } from './Menu/Menu';\n\nconst Wrapper = styled.div`\n\tpadding: 0;\n\theight: 85px;\n`;\n\nconst Logo = styled.img`\n\tmax-width: 160px;\n\theight: auto;\n\tposition: absolute;\n\ttop: 2%;\n\tright: 1rem;\n\tcursor: pointer;\n`;\n\ntype MobileProps = {\n\tlogo: string;\n\ttabs: ReadonlyArray<string>;\n\tpaths: ReadonlyArray<string>;\n};\n\ninterface MobileState {\n\topen: boolean;\n}\n\n/* TODO: add click on side of menu to close it */\n/*  Add styling to div*/\n\nexport const NavigationMobile: FunctionComponent<MobileProps> = ({ logo, tabs, paths }) => {\n\tconst [open, setOpen] = useState<MobileState['open']>(false);\n\tconst node = useRef<HTMLDivElement>(null);\n\tuseOnClickOutside(node, () => setOpen(false));\n\tconst history = useHistory();\n\treturn (\n\t\t<Wrapper ref={node}>\n\t\t\t<Logo className=\"menu-item\" alt=\"art value logo\" src={logo} onClick={() => {}} />\n\t\t\t<Burger open={open} setOpen={setOpen} />\n\t\t\t<Menu open={open} setOpen={setOpen} tabs={tabs} paths={paths} />\n\t\t</Wrapper>\n\t);\n};\n","import { useEffect } from 'react';\n/* TODO: type ref prop */\nexport const useOnClickOutside = (ref:any, handler:Function) => {\n\tuseEffect(() => {\n\t\tconst listener = (event: MouseEvent): void => {\n\t\t\tif (!ref.current || ref.current.contains(event.target)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\thandler(event);\n\t\t};\n\t\tdocument.addEventListener('mousedown', listener);\n\t\treturn () => {\n\t\t\tdocument.removeEventListener('mousedown', listener);\n\t\t};\n\t}, [ref, handler]);\n};\n","export default __webpack_public_path__ + \"static/media/logo-transparent.8fe41ee7.png\";","import { useEffect, useState } from 'react';\nimport { StyledNavigation } from './StyledNavigation.styles';\nimport { NavigationDesktop } from './desktop/NavigationDesktop';\nimport { NavigationMobile } from './mobile/NavigationMobile';\nimport NavigationLogo from '../../../assets/images/logo-transparent.png';\nimport RoutingPaths from '../../../routes/RoutingPaths';\n\nconst TabNames: string[] = ['Presale', 'Presale', 'My Profile'];\nconst NavigationTabs: ReadonlyArray<string> = TabNames;\n\nconst RoutePaths: string[] = [\n\tRoutingPaths.homeView,\n\tRoutingPaths.homeView,\n\tRoutingPaths.myProfile,\n];\nconst NavigationPaths: ReadonlyArray<string> = RoutePaths;\n\nexport const Navigation = () => {\n\tconst [dimensions, setDimensions] = useState({\n\t\theight: window.innerHeight,\n\t\twidth: window.innerWidth,\n\t});\n\n\tuseEffect(() => {\n\t\tconst handleResize = () => {\n\t\t\tsetDimensions({\n\t\t\t\theight: window.innerHeight,\n\t\t\t\twidth: window.innerWidth,\n\t\t\t});\n\t\t};\n\n\t\twindow.addEventListener('resize', handleResize);\n\n\t\treturn () => {\n\t\t\twindow.removeEventListener('resize', handleResize);\n\t\t};\n\t});\n\n\tconst handleViewportSizeChange = () => {\n\t\tif (dimensions.width < 700) {\n\t\t\treturn <NavigationMobile logo={NavigationLogo} tabs={NavigationTabs} paths={NavigationPaths} />;\n\t\t} else {\n\t\t\treturn <NavigationDesktop logo={NavigationLogo} tabs={NavigationTabs} paths={NavigationPaths} />;\n\t\t}\n\t};\n\n\treturn <StyledNavigation viewportWidth={dimensions.width}>{handleViewportSizeChange()}</StyledNavigation>;\n};\n","import { io, Socket } from \"socket.io-client\";\n\nexport interface Ios {\n  auth: Socket,\n  transaction: Socket,\n  deposit: Socket\n}\n\nexport function createIo(base: string, ns: string) {\n  return io(`${base}/${ns}`, {\n    withCredentials: true\n  });\n}\n\nexport function createIos(base: string): Ios {\n  return {\n    auth: createIo(base, 'auth'),\n    transaction: createIo(base, 'transaction'),\n    deposit: createIo(base, 'deposit')\n  }\n}\n","import { ApiResult, parseApiResult } from \".\"\n\nexport async function sessionHeartbeat(base: string) {\n  const res = await fetch(`${base}/session-heartbeat`, {\n    credentials: 'include'\n  })\n  const apiResult = await res.json() as ApiResult<boolean>\n  return parseApiResult(apiResult)\n}\n","import { Routes } from '../../routes/Routes';\nimport { Navigation } from './navigation/Navigation';\nimport React, { FunctionComponent, useEffect, useState } from 'react';\nimport { IosContext, CurrentUserContextData, CurrentUserContext, WalletsContext, WalletsProviderData, RestContext, RestData } from '../../contexts';\nimport { createIos } from '../../service/api/io';\nimport { UserDto } from '../../service/model/User';\nimport { useAlert } from 'react-alert';\nimport * as authApi from \"../../service/api/auth\";\nimport { NamedApiException } from '../../service/api';\nimport Wallet from '../../service/eth/Wallet';\nimport styled, { useTheme } from 'styled-components';\nimport Modal from 'react-modal';\nimport LoginSlides from './auth/LoginSlides';\nimport { sessionHeartbeat } from '../../service/api/session';\nimport '../style/page.scss';\nimport { modalStyle } from '../style/modal';\nimport { isDev } from '../../env';\n\nconst apiBase = isDev ? 'http://localhost:3000' : 'https://art-value-ico-api.herokuapp.com'\nconsole.info(`Art Value ICO - ${isDev ? 'dev' : 'prod'} - API base: ${apiBase}`)\nconst restApiBase = `${apiBase}/api`\nconst ios = createIos(apiBase)\nconst rest: RestData = {\n  base: restApiBase\n}\nconst SESSION_HEARTBEAT_INTERVAL = 10000\n\nconst PageWrapperDiv = styled.div`\n  background-color: ${p => p.theme.color.background};\n  width: 100%;\n  min-height: 100%;\n`\n\nconst App: FunctionComponent<{}> = () => {\n  const [loginDialogOpen, setLoginDialogOpen] = useState(false)\n  const [currentUser, setCurrentUser] = useState<UserDto | null>(null)\n  const [wallets, setWallets] = useState<Set<Wallet>>(new Set())\n  const alert = useAlert()\n  const theme = useTheme()\n\n  useEffect(() => {\n    authApi.getMe(ios.auth).then(meFromApi => {\n      if (meFromApi != null) {\n        alert.success(`Logged in!`)\n        setCurrentUser(meFromApi)\n      }\n    }).catch(error => {\n      if (\n        error instanceof NamedApiException\n        && error.originalName === 'NotLoggedInException'\n      ) return\n      console.error(error)\n      alert.error(`Failed to login, try again later`)\n    })\n    setInterval(() => {\n      sessionHeartbeat(restApiBase)\n    }, SESSION_HEARTBEAT_INTERVAL)\n    sessionHeartbeat(restApiBase)\n  }, [alert])\n\n  const currentUserContextData: CurrentUserContextData = {\n    currentUser: currentUser,\n    setCurrentUser: currentUser => {\n      setCurrentUser(currentUser)\n    },\n    nullCurrentUser: () => setCurrentUser(null),\n    launchLoginModal: () => {\n      setLoginDialogOpen(true)\n    }\n  }\n\n  const web3WrapperContextData: WalletsProviderData = {\n    wallets,\n    setWallets\n  }\n\n  return (\n    <RestContext.Provider value={rest}>\n      <IosContext.Provider value={ios}>\n        <WalletsContext.Provider value={web3WrapperContextData}>\n          <CurrentUserContext.Provider value={currentUserContextData}>\n            <PageWrapperDiv>\n              <Routes>\n                <Navigation />\n              </Routes>\n\n              <Modal\n                style={modalStyle(theme)}\n                isOpen={loginDialogOpen}\n                contentLabel=\"Login Dialog\"\n                shouldCloseOnOverlayClick={true}>\n                <LoginSlides onLoggedIn={() => {\n                  setLoginDialogOpen(false)\n                }} />\n              </Modal>\n            </PageWrapperDiv>\n          </CurrentUserContext.Provider>\n        </WalletsContext.Provider>\n      </IosContext.Provider>\n    </RestContext.Provider>\n  );\n}\n\nexport default App\n","import { faCheck, faExclamation, faInfo, faTimes } from \"@fortawesome/free-solid-svg-icons\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport { FunctionComponent } from \"react\"\nimport { AlertComponentPropsWithStyle } from \"react-alert\"\nimport styled, { useTheme } from \"styled-components\"\n\nconst AlertContainerDiv = styled.div`\n  background-color: white;\n  border-radius: 4px;\n  padding: 0.7rem 0.9rem;\n`\n\nconst AlertCloseButton = styled.button`\n  padding: 0.3rem;\n  cursor: pointer;\n  margin-left: 0.5rem;\n  background: none;\n  border: none;\n`\n\nconst AlertIconSpan = styled.span`\n  margin-right: 0.5rem;\n`\n\nconst AlertTemplate: FunctionComponent<AlertComponentPropsWithStyle> = ({\n  style, options, message, close\n}) => {\n  const theme = useTheme()\n\n  return (<AlertContainerDiv style={style}>\n    <AlertIconSpan>{options.type == null ? '' : ({\n      info: <FontAwesomeIcon icon={faInfo} size=\"lg\" color={theme.color.info} />,\n      success: <FontAwesomeIcon icon={faCheck} size=\"lg\" color={theme.color.success} />,\n      error: <FontAwesomeIcon icon={faExclamation} size=\"lg\" color={theme.color.error} />\n    })[options.type]}</AlertIconSpan>\n    {message}\n    <AlertCloseButton onClick={close}><FontAwesomeIcon icon={faTimes} size=\"lg\" /></AlertCloseButton>\n  </AlertContainerDiv>)\n}\n\nexport default AlertTemplate\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './ui/components/App'\nimport { QueryClient, QueryClientProvider, setLogger as setQueryLogger } from 'react-query'\nimport { DefaultTheme, ThemeProvider } from 'styled-components'\nimport AlertTemplate from './ui/components/AlertTemplate'\nimport { AlertProviderProps, positions, transitions, Provider as AlertProvider } from 'react-alert'\nimport { darken, lighten } from 'polished'\nimport { isErrorProcessed } from './util'\nimport { loadStripe } from '@stripe/stripe-js'\nimport Modal from \"react-modal\";\n\nconst colorBackground = '#0a0a0a';\n\nconst theme: DefaultTheme = {\n\tcolor: {\n\t\tbackground: colorBackground,\n\t\tsurface: lighten(0.2, colorBackground),\n\t\tborder: lighten(0.4, colorBackground),\n\t\ttext: darken(0.1, '#fff'),\n    info: '#2c90be',\n    success: '#53b953',\n    error: '#a73e3e',\n    link: '#2c90be',\n    linkVisited: '#1d5975',\n    linkHover: '#5695b3',\n    linkActive: '#367ea0',\n\t},\n\tfont: {\n\t\ttext: 'Avenir95Light',\n\t\ttitle: 'Avenir95Black',\n\t},\n}\n\nconst stripePromise = loadStripe(\n  'pk_test_51ITna8JcDKL67QxNOgLJSMRVqFGagqi7pcHXCtewhqPyxqsWt5QrIWLeCoWXTZlZIi2gOhNSh3JE4M6Rr40VFhSJ00cmqxUD2d'\n)\n\nModal.setAppElement('#root')\n\nconst queryClient = new QueryClient()\nsetQueryLogger({\n  error: (...args) => {\n    if (!isErrorProcessed(args[0])) console.error.apply(console, args)\n  },\n  log: console.log,\n  warn: console.warn\n})\n\ninterface AlertProviderOptions extends Omit<AlertProviderProps, 'template'> { }\n\nconst alertOptions: AlertProviderOptions = {\n  position: positions.TOP_RIGHT,\n  timeout: 5000,\n  offset: '30px',\n  transition: transitions.SCALE\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <ThemeProvider theme={theme}>\n      <AlertProvider template={AlertTemplate} {...alertOptions}>\n        <QueryClientProvider client={queryClient}>\n          <App />\n        </QueryClientProvider>\n      </AlertProvider>\n    </ThemeProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n\n// async function portisTest() {\n//   const accounts = await getAccounts()\n//   const account = accounts[0]\n//   if (account == null) throw Error(\"No Etherium account found\")\n//   console.log(`Your account: ${account}`)\n\n//   const balanceStr = await web3.eth.getBalance(account)\n//   // let balanceWei = Number.parseInt(balanceStr)\n//   const myBalance = web3.utils.fromWei(balanceStr, 'ether')\n//   console.log(`Your wallet balance is currently ${myBalance} ETH`)\n\n//   const nonce = await web3.eth.getTransactionCount(account)\n//   console.log(`The outgoing transaction count for your wallet address is: ${nonce}`)\n\n//   const amountToSend = web3.utils.toBN(100000000)\n//   const ourAddress = \"0x87A4E8363AF65FC4a0FFf52D1d70918CC574492D\"\n\n//   const gasPrices = await getCurrentGasPrices()\n//   const txDetails: TransactionConfig = {\n//     \"from\": account,\n//     \"to\": ourAddress,\n//     \"value\": web3.utils.toHex(web3.utils.toWei(amountToSend, 'Gwei')),\n//     \"gas\": 21000,\n//     \"gasPrice\": gasPrices.low * 1000000000, // converts the gwei price to wei\n//     \"nonce\": nonce,\n//     \"chainId\": 4 // EIP 155 chainId - mainnet: 1, rinkeby: 4\n//   }\n \n//   const transaction = await web3.eth.signTransaction(txDetails)\n//   console.log(transaction)\n\n//   console.log(\"Sending transaction...\")\n//   const transactionEvent = web3.eth.sendSignedTransaction(transaction.raw)\n//   transactionEvent.on(\"transactionHash\", th => console.log(`Got a th: `, th))\n//   transactionEvent.on(\"receipt\", receipt => console.log(`Got a receipt: `, receipt))\n//   transactionEvent.on(\"confirmation\", conf => console.log(`Got confirmation!`))\n//   transactionEvent.then(receipt => console.log(`Transaction complete :) `, receipt))\n//   transactionEvent.catch(err => console.log(`Transaction error :( `, err))\n\n//   const nonceAfter = await web3.eth.getTransactionCount(account)\n//   console.log(`The outgoing transaction count for your wallet address is: ${nonceAfter}`)\n// }\n\n// portisTest()\n"],"sourceRoot":""}